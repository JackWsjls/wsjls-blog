<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>运维基础 | Wsjls&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/wsjls/weblog/img/favicon.ico">
    <meta name="description" content="Wsjls&#39;s blog">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/wsjls/weblog/assets/css/0.styles.bf455171.css" as="style"><link rel="preload" href="/wsjls/weblog/assets/js/app.102f5f84.js" as="script"><link rel="preload" href="/wsjls/weblog/assets/js/2.ae390b48.js" as="script"><link rel="preload" href="/wsjls/weblog/assets/js/11.60ef0eb9.js" as="script"><link rel="prefetch" href="/wsjls/weblog/assets/js/10.4698eb4c.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/12.0f298ee3.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/13.e1e9ed13.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/14.19cf72c5.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/15.a02b1c53.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/16.6704f770.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/17.1b10e794.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/18.19e9a68b.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/19.589526a8.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/20.a9733603.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/21.dbb39be3.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/22.a00031a5.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/3.9050f421.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/4.94dce7a4.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/5.e37da526.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/6.bc765051.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/7.40523eaf.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/8.c950af27.js"><link rel="prefetch" href="/wsjls/weblog/assets/js/9.b88d6a4d.js">
    <link rel="stylesheet" href="/wsjls/weblog/assets/css/0.styles.bf455171.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wsjls/weblog/" class="home-link router-link-active"><img src="/wsjls/weblog/img/logo.png" alt="Wsjls's blog" class="logo"> <span class="site-name can-hide">Wsjls's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wsjls/weblog/" class="nav-link">首页</a></div><div class="nav-item"><a href="/wsjls/weblog/frontend/" class="nav-link">前端</a></div><div class="nav-item"><a href="/wsjls/weblog/backend/" class="nav-link">后端</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/wsjls/weblog/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wsjls/weblog/pages/f344d070a1031ef7/" aria-current="page" class="nav-link router-link-exact-active router-link-active">运维</a></li><li class="dropdown-item"><!----> <a href="/wsjls/weblog/technology/php/" class="nav-link">PHP</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/wsjls/weblog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wsjls/weblog/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/wsjls/weblog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wsjls/weblog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/wsjls/weblog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/wsjls/weblog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/JackWsjls/wsjls-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/wsjls/weblog/img/bg1.jpeg"> <div class="blogger-info"><h3>Wsjls</h3> <span>Standing on the gaint's shoulders</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/wsjls/weblog/" class="nav-link">首页</a></div><div class="nav-item"><a href="/wsjls/weblog/frontend/" class="nav-link">前端</a></div><div class="nav-item"><a href="/wsjls/weblog/backend/" class="nav-link">后端</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/wsjls/weblog/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wsjls/weblog/pages/f344d070a1031ef7/" aria-current="page" class="nav-link router-link-exact-active router-link-active">运维</a></li><li class="dropdown-item"><!----> <a href="/wsjls/weblog/technology/php/" class="nav-link">PHP</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/wsjls/weblog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wsjls/weblog/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/wsjls/weblog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wsjls/weblog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/wsjls/weblog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/wsjls/weblog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/JackWsjls/wsjls-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>运维</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wsjls/weblog/pages/f344d070a1031ef7/" aria-current="page" class="active sidebar-link">运维基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#虚拟机及centos-7系统安装" class="sidebar-link">虚拟机及CentOS 7系统安装</a></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#登录虚拟机" class="sidebar-link">登录虚拟机</a></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#linux指令" class="sidebar-link">Linux指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_1-ls-list" class="sidebar-link">1 ls list</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#ls-列出当前目录下的所有文件-文件夹" class="sidebar-link">ls 列出当前目录下的所有文件 文件夹</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#ls-选项-路径-列出指定路径下的-并以指定格式进行显示" class="sidebar-link">ls 选项 路径 列出指定路径下的，并以指定格式进行显示</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_2-pwd-print-working-directory-打印当前的工作路径" class="sidebar-link">2 pwd print working directory  打印当前的工作路径</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_3-cd-change-directory-切换当前的工作目录" class="sidebar-link">3 cd change directory  切换当前的工作目录</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_4-mkdir-make-directory-创建文件夹目录" class="sidebar-link">4 mkdir make directory 创建文件夹目录</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_5-touch-指令-创建文件" class="sidebar-link">5 touch 指令 创建文件</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_6-cp-指令-copy-复制文件" class="sidebar-link">6 cp 指令 copy 复制文件</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_7-mv-指令-move-移动-剪切" class="sidebar-link">7 mv 指令 move 移动 剪切</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_8-rm-指令-remove-移动-删除文档" class="sidebar-link">8 rm 指令 remove 移动/删除文档</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_9-vim-指令-文本编辑器" class="sidebar-link">9 vim 指令 文本编辑器</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_10-输出重定向" class="sidebar-link">10 输出重定向</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_9-cat-指令-直接打开一个文件" class="sidebar-link">9 cat 指令 直接打开一个文件</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_1-df-查看磁盘空间" class="sidebar-link">1 df  查看磁盘空间</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_2-free-查看内存使用情况" class="sidebar-link">2 free 查看内存使用情况</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_3-head-查看一个文件的前n行-如果不指定n-默认10" class="sidebar-link">3 head 查看一个文件的前n行，如果不指定n，默认10</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_4-tail-查看一个文件末尾" class="sidebar-link">4 tail 查看一个文件末尾</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_5-less-查看文件-以较少的内容进行输出-按下辅助功能键查看更多" class="sidebar-link">5 less  查看文件，以较少的内容进行输出，按下辅助功能键查看更多</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_6-wc-统计文件内容信息-包含行数-单词数-字节数" class="sidebar-link">6 wc 统计文件内容信息（包含行数 单词数 字节数）</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_7-date-日期-表示操作时间日期-读取-设置" class="sidebar-link">7 date  日期 表示操作时间日期（读取 设置）</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_8-cal-用来操作日历" class="sidebar-link">8 cal 用来操作日历</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_9-clear-ctrl-l-清除终端中已经存在的命令和结果-信息" class="sidebar-link">9 clear/ctrl+L  清除终端中已经存在的命令和结果（信息）</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_10-管道-管道符" class="sidebar-link">10 管道 管道符 |</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#统计某个目录下文档总个数" class="sidebar-link">统计某个目录下文档总个数</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_1-hostname-指令-操作服务器的主机名-读取-设置" class="sidebar-link">1 hostname 指令 操作服务器的主机名 读取 设置</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_2-id-指令-查看用户的基本信息-用户id-用户组id-附加组id" class="sidebar-link">2 id 指令 查看用户的基本信息 用户ID 用户组ID 附加组ID</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_3-whoami-指令" class="sidebar-link">3 whoami 指令</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_4-ps-ef-指令" class="sidebar-link">4 ps -ef 指令</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_5-top-指令" class="sidebar-link">5 top 指令</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#top" class="sidebar-link">top</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#top-m-按照内存从高到低进行排序" class="sidebar-link">top -M  按照内存从高到低进行排序</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#top-p-按照cpu使用率从高到低进行排序" class="sidebar-link">top -P  按照CPU使用率从高到低进行排序</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#top-1-当服务器拥有多个cpu-可使用1-切换是否展示各个cpu的详细信息" class="sidebar-link">top 1  当服务器拥有多个cpu，可使用1 切换是否展示各个CPU的详细信息</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_6-du-sh-指令-查看目录的真实大小" class="sidebar-link">6 du -sh 指令  查看目录的真实大小</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_7-find-指令" class="sidebar-link">7 find 指令</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_8-service-start-stop-restart-指令" class="sidebar-link">8 service * start/stop/restart 指令</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_9-kill-指令" class="sidebar-link">9 kill 指令</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_10-ifconfig-指令" class="sidebar-link">10 ifconfig 指令</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_11-reboot-指令-重启计算机" class="sidebar-link">11 reboot 指令 重启计算机</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_12-shutdown-指令" class="sidebar-link">12 shutdown 指令</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_13-uptime-指令" class="sidebar-link">13 uptime 指令</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_14-uname-指令" class="sidebar-link">14 uname 指令</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_15-netstat-tnlp-指令" class="sidebar-link">15 netstat -tnlp 指令</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#_16-man-指令" class="sidebar-link">16 man 指令</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#vim编辑器" class="sidebar-link">vim编辑器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#三种模式" class="sidebar-link">三种模式</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#命令模式-打开默认进入的模式" class="sidebar-link">命令模式   打开默认进入的模式</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#编辑模式-输入模式" class="sidebar-link">编辑模式（输入模式）</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#末行模式" class="sidebar-link">末行模式</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#打开文件的方式-4种" class="sidebar-link">打开文件的方式 4种</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#命令模式" class="sidebar-link">命令模式</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#光标的操作" class="sidebar-link">光标的操作</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#复制操作" class="sidebar-link">复制操作</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#剪切-删除" class="sidebar-link">剪切 删除</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#撤销-恢复" class="sidebar-link">撤销 恢复</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#命令模式-扩展" class="sidebar-link">命令模式 扩展</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#模式的切换" class="sidebar-link">模式的切换</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#末行模式详细" class="sidebar-link">末行模式详细</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#编辑模式" class="sidebar-link">编辑模式</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#实用功能" class="sidebar-link">实用功能</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#vim的配置" class="sidebar-link">vim的配置</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#异常退出问题" class="sidebar-link">异常退出问题</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#别名机制" class="sidebar-link">别名机制</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#退出方式" class="sidebar-link">退出方式</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#不要输入-x-大写x-表示对文件进行加密操作" class="sidebar-link">不要输入 :X 大写x，表示对文件进行加密操作</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#linux-自有服务" class="sidebar-link">Linux 自有服务</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#运行模式-也可以叫运行级别" class="sidebar-link">运行模式 也可以叫运行级别</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#用户和用户组的管理-重要" class="sidebar-link">用户和用户组的管理 重要</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#用户管理" class="sidebar-link">用户管理</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#添加用户" class="sidebar-link">添加用户</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#修改用户" class="sidebar-link">修改用户</a></li><li class="sidebar-sub-header level6"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#示例" class="sidebar-link">示例</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#设置密码" class="sidebar-link">设置密码</a></li><li class="sidebar-sub-header level6"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#切换用户名命令-su-用户名-没有用户名切换到超管用户" class="sidebar-link">切换用户名命令 su 用户名，没有用户名切换到超管用户</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#删除用户" class="sidebar-link">删除用户</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#用户组管理" class="sidebar-link">用户组管理</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#网络设置" class="sidebar-link">网络设置</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#如果修改网卡的配置文件-但是配置文件的目录层次很深-此时可以在浅的目录中创建一个快捷方式-方便以后去查找" class="sidebar-link">如果修改网卡的配置文件，但是配置文件的目录层次很深，此时可以在浅的目录中创建一个快捷方式，方便以后去查找</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#ssh文件传输工具-filezilla" class="sidebar-link">SSH文件传输工具  filezilla</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#使用pscp传输文件-通过命令行工具来传输文件-文件夹" class="sidebar-link">使用pscp传输文件 通过命令行工具来传输文件/文件夹</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#设置主机名" class="sidebar-link">设置主机名</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#chkconfig" class="sidebar-link">chkconfig</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#ntp-服务" class="sidebar-link">ntp 服务</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#防火墙服务" class="sidebar-link">防火墙服务</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#rpm管理" class="sidebar-link">rpm管理</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#cron-crontab-计划任务" class="sidebar-link">cron/crontab 计划任务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#crontab-选项" class="sidebar-link">crontab 选项</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#编辑计划任务" class="sidebar-link">编辑计划任务</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#linux权限管理" class="sidebar-link">Linux权限管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#权限的设置" class="sidebar-link">权限的设置</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#权限设置" class="sidebar-link">权限设置</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#属主与属组设置" class="sidebar-link">属主与属组设置</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#sudo操作" class="sidebar-link">sudo操作</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#linux的网络基础" class="sidebar-link">Linux的网络基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#ip地址-internet-protocol-网络之间互连的协议" class="sidebar-link">IP地址 Internet Protocol  网络之间互连的协议</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#网卡" class="sidebar-link">网卡</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#网线" class="sidebar-link">网线</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#交换机" class="sidebar-link">交换机</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#路由器" class="sidebar-link">路由器</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#拓扑结构图" class="sidebar-link">拓扑结构图</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#网络相关命令" class="sidebar-link">网络相关命令</a></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#项目上线流程" class="sidebar-link">项目上线流程</a></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#shell相关" class="sidebar-link">Shell相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#shell入门" class="sidebar-link">shell入门</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#shell进阶" class="sidebar-link">shell进阶</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#变量" class="sidebar-link">变量</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#条件判断语句" class="sidebar-link">条件判断语句</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#运算符" class="sidebar-link">运算符</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#算数运算符" class="sidebar-link">算数运算符 + - * / % = == !=</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#关系运算符" class="sidebar-link">关系运算符</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#逻辑运算符" class="sidebar-link">逻辑运算符</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#字符串运算符" class="sidebar-link">字符串运算符</a></li><li class="sidebar-sub-header level5"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#文件测试运算符" class="sidebar-link">文件测试运算符</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#shell脚本附带选项" class="sidebar-link">shell脚本附带选项</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#数据库" class="sidebar-link">数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#linux软件安装方式" class="sidebar-link">Linux软件安装方式</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#安装-mysql" class="sidebar-link">安装 MYSQL</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#mysql的基本操作" class="sidebar-link">mysql的基本操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#记录-字段操作" class="sidebar-link">记录/字段操作</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#备份与还原" class="sidebar-link">备份与还原</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#备份" class="sidebar-link">备份</a></li><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#还原" class="sidebar-link">还原</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#还原全部数据库" class="sidebar-link">还原全部数据库</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#还原单个数据库-需指定数据库" class="sidebar-link">还原单个数据库，需指定数据库</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#还原单个库多个表" class="sidebar-link">还原单个库多个表</a></li><li class="sidebar-sub-header level4"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#还原多个数据库" class="sidebar-link">还原多个数据库</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#扩展" class="sidebar-link">扩展</a></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#nginx" class="sidebar-link">nginx</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#wget-地址" class="sidebar-link">wget 地址</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#lamp" class="sidebar-link">LAMP</a></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#阿里云安装环境" class="sidebar-link">阿里云安装环境</a></li><li class="sidebar-sub-header level2"><a href="/wsjls/weblog/pages/f344d070a1031ef7/#安装-discuz-论坛" class="sidebar-link">安装 discuz 论坛</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>语言</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/wsjls/weblog/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/wsjls/weblog/categories/?category=%E6%8A%80%E6%9C%AF" title="分类" data-v-06225672>技术</a></li><li data-v-06225672><a href="/wsjls/weblog/categories/?category=%E8%BF%90%E7%BB%B4" title="分类" data-v-06225672>运维</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="javascript:;" data-v-06225672>wsjls</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-06-27</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">运维基础<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="虚拟机及centos-7系统安装"><a href="#虚拟机及centos-7系统安装" class="header-anchor">#</a> 虚拟机及CentOS 7系统安装</h2> <ul><li>VMware Workstation 问题： VMware Workstation 与 Device/Credential Guard 不兼容。在禁用 Device/Credential Guard 后，可以运行 VMware Workstation。有关更多详细信息，请访问 <a href="http://www.vmware.com/go/turnoff_CG_DG" target="_blank" rel="noopener noreferrer">http://www.vmware.com/go/turnoff_CG_DG<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>解决链接：<a href="https://blog.csdn.net/lizongti/article/details/128074912" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/lizongti/article/details/128074912<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>CentOS 7 安装教程（超详细实用版）</li></ul> <p><a href="https://baijiahao.baidu.com/s?id=1739745843735736639&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener noreferrer">https://baijiahao.baidu.com/s?id=1739745843735736639&amp;wfr=spider&amp;for=pc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>PS2019HOVYVEYJ</p> <p>VMware Workstation 与 Device/Credential Guard 不兼容</p> <ul><li>bcdedit /set hypervisorlaunchtype off</li> <li>bcdedit /set hypervisorlaunchtype auto</li></ul> <h2 id="登录虚拟机"><a href="#登录虚拟机" class="header-anchor">#</a> 登录虚拟机</h2> <p>账户 root
密码 Asdf!234</p> <p>普通用户：
gaoyang
Asdf!234</p> <p>命令行关机</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>shutdown -h now 正常关机，可以定时关机
halt 关闭内存，非正常关机
init 0 仅在6中用
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使用VMware备份系统</p> <p>快照 还原点，保存在拍快照时候的系统状态，包含所有内容，后期随时可以恢复到这个点。短期频繁备份。开启状态</p> <p>克隆 复制 长期备份 关闭状态</p> <p>对文件的操作 一切皆文件</p> <p>创建文件 编辑 保存 关闭 重命名 删除 恢复</p> <ul><li>bin 二进制文件 都是可以被运行的</li> <li>dev 存放外接设备，不能直接使用，需要挂载</li> <li>Etc 主要存储一些配置文件</li> <li>Home 除了root以外其他用户</li> <li>root root用户自己的目录</li> <li>sbin 存储可以运行的二进制文件，只有超管可以运行的</li> <li>temp 系统运行产生的临时文件存放</li> <li>Usr 存放用户自己安装的软件</li> <li>Var 存放程序/系统的日志文件目录</li> <li>Mnt 外接挂载 在这个目录</li></ul> <h2 id="linux指令"><a href="#linux指令" class="header-anchor">#</a> Linux指令</h2> <p>Linux终端即命令行输入的内容</p> <p>指令 选项 操作对象</p> <p>一个指令可以是多个选项 多个操作对象</p> <h3 id="_1-ls-list"><a href="#_1-ls-list" class="header-anchor">#</a> 1 ls list</h3> <h4 id="ls-列出当前目录下的所有文件-文件夹"><a href="#ls-列出当前目录下的所有文件-文件夹" class="header-anchor">#</a> ls 列出当前目录下的所有文件 文件夹</h4> <p>ls 路径 列出指定目录下的所有文件 文件夹，绝对路径/root，相对路径./ ../</p> <h4 id="ls-选项-路径-列出指定路径下的-并以指定格式进行显示"><a href="#ls-选项-路径-列出指定路径下的-并以指定格式进行显示" class="header-anchor">#</a> ls 选项 路径 列出指定路径下的，并以指定格式进行显示</h4> <p>ls -l 表示以详细列表的形式进行展示</p> <p>ls -la 显示包含隐藏文件、文件夹</p> <p>drwxr-xr-x 权限 -表示对应的是文件，d表示对应的是文件夹</p> <p>ls -lh 路径 列出指定路径下的所有，以列表形式并显示文档大小时以可读性较高的形式显示</p> <h3 id="_2-pwd-print-working-directory-打印当前的工作路径"><a href="#_2-pwd-print-working-directory-打印当前的工作路径" class="header-anchor">#</a> 2 pwd print working directory  打印当前的工作路径</h3> <h3 id="_3-cd-change-directory-切换当前的工作目录"><a href="#_3-cd-change-directory-切换当前的工作目录" class="header-anchor">#</a> 3 cd change directory  切换当前的工作目录</h3> <p>cd ~ 切换当前用户的家目录</p> <h3 id="_4-mkdir-make-directory-创建文件夹目录"><a href="#_4-mkdir-make-directory-创建文件夹目录" class="header-anchor">#</a> 4 mkdir make directory 创建文件夹目录</h3> <p>mkdir 文件夹名称或者包含文件夹名称的完整路径</p> <p>蓝色 文件夹</p> <p>黑色 文件</p> <p>绿色 拥有全部权限</p> <p>mkdir -p 路径  一次性创建多层不存在目录</p> <p>mkdir 路径1 路径2 路径3  一次性创建多个目录</p> <h3 id="_5-touch-指令-创建文件"><a href="#_5-touch-指令-创建文件" class="header-anchor">#</a> 5 touch 指令 创建文件</h3> <p>touch 文件路径或者文件名</p> <p>touch 文件1 文件2..  创建多个文件</p> <h3 id="_6-cp-指令-copy-复制文件"><a href="#_6-cp-指令-copy-复制文件" class="header-anchor">#</a> 6 cp 指令 copy 复制文件</h3> <p>复制文件</p> <p>cp 被复制的文档路径 文档被复制到的路径</p> <p>复制文件夹</p> <p>cp -r 被复制的文档路径 文档被复制到的路径</p> <p>-r 递归 文件夹以及包含的文件</p> <h3 id="_7-mv-指令-move-移动-剪切"><a href="#_7-mv-指令-move-移动-剪切" class="header-anchor">#</a> 7 mv 指令 move 移动 剪切</h3> <p>移动文档到新的位置</p> <p>mv 需要移动的文档路径（文件 文件夹） 需要保存的位置路径</p> <p>路径不变可以重命名</p> <h3 id="_8-rm-指令-remove-移动-删除文档"><a href="#_8-rm-指令-remove-移动-删除文档" class="header-anchor">#</a> 8 rm 指令 remove 移动/删除文档</h3> <p>rm 需要删除的文档路径  需要确认</p> <p>rm -f 文件   force   不需要确认</p> <p>rm -r 文件夹  递归文件  需要确认</p> <p>rm -rf 文件/文件夹  可以删除多个文件/文件夹</p> <p>rm -f linux*</p> <p>&quot;<em>&quot; 通配符，表示任意字符。&quot;linux</em>&quot; 表示Linux开头的文件文件夹</p> <h3 id="_9-vim-指令-文本编辑器"><a href="#_9-vim-指令-文本编辑器" class="header-anchor">#</a> 9 vim 指令 文本编辑器</h3> <p>vim 文件路径   打开一个文件，不管是否存在</p> <p>退出文件编辑 shift+英文冒号 输入q，回车退出</p> <h3 id="_10-输出重定向"><a href="#_10-输出重定向" class="header-anchor">#</a> 10 输出重定向</h3> <div class="language-text line-numbers-mode"><pre class="language-text"><code>&gt;: 覆盖输出，会覆盖原先文件内容
&gt;&gt;: 追加输出，不会覆盖原始文件内容，会在原始内容末尾继续追加
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_9-cat-指令-直接打开一个文件"><a href="#_9-cat-指令-直接打开一个文件" class="header-anchor">#</a> 9 cat 指令 直接打开一个文件</h3> <p>cat 文件路径</p> <p>可以对文件进行合并</p> <p>cat 待合并文件路径1 待合并文件路径2...文件路径n &gt; 合并之后的文件
</p> <h3 id="_1-df-查看磁盘空间"><a href="#_1-df-查看磁盘空间" class="header-anchor">#</a> 1 df  查看磁盘空间</h3> <p>df -h  以可读性较高的形式展示大小</p> <h3 id="_2-free-查看内存使用情况"><a href="#_2-free-查看内存使用情况" class="header-anchor">#</a> 2 free 查看内存使用情况</h3> <p>free -m  以mb为单位进行查看</p> <p>free -g</p> <p>swap  用户临时内存，当系统真实内存不够用的时候可以临时使用磁盘空间来充当内存</p> <h3 id="_3-head-查看一个文件的前n行-如果不指定n-默认10"><a href="#_3-head-查看一个文件的前n行-如果不指定n-默认10" class="header-anchor">#</a> 3 head 查看一个文件的前n行，如果不指定n，默认10</h3> <p>head -n 文件路径</p> <h3 id="_4-tail-查看一个文件末尾"><a href="#_4-tail-查看一个文件末尾" class="header-anchor">#</a> 4 tail 查看一个文件末尾</h3> <p>tail -n 文件路径  查看一个文件的末尾n行，如果不指定n，默认10</p> <p>tail -f 文件路径  查看一个文件的动态变化内容【变化的内容不能是用户手动增加的】</p> <p>一般用户查看系统的日志。</p> <p>退出按下q键</p> <h3 id="_5-less-查看文件-以较少的内容进行输出-按下辅助功能键查看更多"><a href="#_5-less-查看文件-以较少的内容进行输出-按下辅助功能键查看更多" class="header-anchor">#</a> 5 less  查看文件，以较少的内容进行输出，按下辅助功能键查看更多</h3> <p>less 需要查看的文件路径</p> <p>数字+回车</p> <p>空格键+上下键 查看更多</p> <h3 id="_6-wc-统计文件内容信息-包含行数-单词数-字节数"><a href="#_6-wc-统计文件内容信息-包含行数-单词数-字节数" class="header-anchor">#</a> 6 wc 统计文件内容信息（包含行数 单词数 字节数）</h3> <p>wc -lwc 需要统计的文件路径</p> <ul><li>-l 表示lines 行数</li> <li>-w 表示words 单词数</li> <li>-c 表示bytes 字节数</li></ul> <h3 id="_7-date-日期-表示操作时间日期-读取-设置"><a href="#_7-date-日期-表示操作时间日期-读取-设置" class="header-anchor">#</a> 7 date  日期 表示操作时间日期（读取 设置）</h3> <p>date        2023年9月9日 星期一 12:12:12</p> <ul><li>date +%F  (等价于 date &quot;+%Y-%m-%d&quot;)   2023-09-09</li> <li>date &quot;+%F %T&quot; 引号表示把年月日和时分秒作为一个整体   （等价于 date &quot;+%T-%m-%d %H:%M:%S&quot;）</li> <li>获取之前或者之后的某个时间 备份</li> <li>date -d &quot;-1 day&quot; &quot;+%T-%m-%d %H:%M:%S&quot;  输出前一天的时间</li> <li>符号 + 之后 - 之前</li> <li>单位 day 天 month 月份 year 年</li> <li>%F 完整的年月日</li> <li>%T 完整的时分秒</li> <li>%Y 表示四位年份</li> <li>%m 表示两位月份（带前导0）</li> <li>%d 表示日期（带前导0）</li> <li>%H 表示小时（带前导0）</li> <li>%M 表示分钟（带前导0）</li> <li>%S 表示秒数（带前导0）</li></ul> <h3 id="_8-cal-用来操作日历"><a href="#_8-cal-用来操作日历" class="header-anchor">#</a> 8 cal 用来操作日历</h3> <p>cal 等价于 cal -1</p> <ul><li>cal -3  表示输出上月 本月 下月的日历</li> <li>cal -y  整年的日历</li> <li>cal -s  日历显示默认从周日开始</li> <li>cal -m  日历显示从周一开始</li></ul> <h3 id="_9-clear-ctrl-l-清除终端中已经存在的命令和结果-信息"><a href="#_9-clear-ctrl-l-清除终端中已经存在的命令和结果-信息" class="header-anchor">#</a> 9 clear/ctrl+L  清除终端中已经存在的命令和结果（信息）</h3> <p>把信息隐藏在最上面</p> <h3 id="_10-管道-管道符"><a href="#_10-管道-管道符" class="header-anchor">#</a> 10 管道 管道符 |</h3> <p>过滤 ls|grep</p> <p>特殊 cat|less</p> <p>扩展处理 ls|wc</p> <p>不能单独使用，配合之前的命令使用，起辅助作用</p> <p>ls /|grep y 过滤含有y文件名的文件</p> <p>以管道为分界线，前面命令输出，后面需要输入再过滤，最后再输出。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>管道前面的输出是后面指令的输入<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>grep指令 主要用于过滤</p> <p>特殊用法  通过管道实现less等价效果</p> <p>less 文件路径   ===  cat 路径|less</p> <h4 id="统计某个目录下文档总个数"><a href="#统计某个目录下文档总个数" class="header-anchor">#</a> 统计某个目录下文档总个数</h4> <p>ls / |wc -l</p> <p>ls / |wc -w</p> <h3 id="_1-hostname-指令-操作服务器的主机名-读取-设置"><a href="#_1-hostname-指令-操作服务器的主机名-读取-设置" class="header-anchor">#</a> 1 hostname 指令 操作服务器的主机名 读取 设置</h3> <p>hostname  完成主机名</p> <p>hostname -f  当前主机名的 FQDN 全限定域名</p> <h3 id="_2-id-指令-查看用户的基本信息-用户id-用户组id-附加组id"><a href="#_2-id-指令-查看用户的基本信息-用户id-用户组id-附加组id" class="header-anchor">#</a> 2 id 指令 查看用户的基本信息 用户ID 用户组ID 附加组ID</h3> <p>id</p> <p>默认显示当前用户的基本信息</p> <p>id 用户名</p> <p>指定用户的基本信息</p> <p>验证用户信息是否正确</p> <p>验证用户信息 通过文件  /etc/passwd</p> <p>验证用户组信息 通过文件  /etc/group</p> <h3 id="_3-whoami-指令"><a href="#_3-whoami-指令" class="header-anchor">#</a> 3 whoami 指令</h3> <p>显示当前登录用户的用户名，一般用于shell脚本，用户获取当前操作的用户名记录日志</p> <h3 id="_4-ps-ef-指令"><a href="#_4-ps-ef-指令" class="header-anchor">#</a> 4 ps -ef 指令</h3> <p>ps</p> <p>主要是查看服务器的进程信息</p> <p>-e  等价于 “-A”，列出全部进程</p> <p>-f  显示全部的列</p> <ul><li>UID  进程执行的用户id</li> <li>PID  进程id</li> <li>PPID  该进程的父级进程id 如果一个程序的父级进程找不到，该进程就是无用进程</li> <li>C -&gt; CPU占用率，其形式是百分比</li> <li>STIME  进程的启动时间</li> <li>TTY  终端设备 发起该进程的设备识别符号 如果显示 ？ 表示该进程不是由终端设备发起的</li> <li>TIME  进程的执行时间</li> <li>CMD  该进程的名称或者对应的路径</li></ul> <p>ps -ef|grep gnome-panel</p> <h3 id="_5-top-指令"><a href="#_5-top-指令" class="header-anchor">#</a> 5 top 指令</h3> <p>查看服务器进程占的资源</p> <h4 id="top"><a href="#top" class="header-anchor">#</a> top</h4> <p>动态显示，q键退出</p> <ul><li>PID  进程id</li> <li>USER   该进程对应的用户</li> <li>PR  优先级</li> <li>VIRT  虚拟内存</li> <li>RES  常驻内存</li> <li>SHR  共享内存</li> <li>计算一个进程实际使用内存 = 常驻内存 - 共享内存</li> <li>S  表示进行状态（S表示睡眠 R表示运行）</li> <li>%CPU  表示CPU的占用百分比</li> <li>%MEM  表示内存的占用百分比</li> <li>Time+  执行的时间</li> <li>COMMAND  进程的名称或者路径</li></ul> <p>虚拟/常驻/共享 内存</p> <h4 id="top-m-按照内存从高到低进行排序"><a href="#top-m-按照内存从高到低进行排序" class="header-anchor">#</a> top -M  按照内存从高到低进行排序</h4> <h4 id="top-p-按照cpu使用率从高到低进行排序"><a href="#top-p-按照cpu使用率从高到低进行排序" class="header-anchor">#</a> top -P  按照CPU使用率从高到低进行排序</h4> <h4 id="top-1-当服务器拥有多个cpu-可使用1-切换是否展示各个cpu的详细信息"><a href="#top-1-当服务器拥有多个cpu-可使用1-切换是否展示各个cpu的详细信息" class="header-anchor">#</a> top 1  当服务器拥有多个cpu，可使用1 切换是否展示各个CPU的详细信息</h4> <h3 id="_6-du-sh-指令-查看目录的真实大小"><a href="#_6-du-sh-指令-查看目录的真实大小" class="header-anchor">#</a> 6 du -sh 指令  查看目录的真实大小</h3> <p>du -sh 目标目录地址</p> <p>-s （summaries） 只显示汇总的大小</p> <p>-h  表示以较高可读性的形式进行显示</p> <h3 id="_7-find-指令"><a href="#_7-find-指令" class="header-anchor">#</a> 7 find 指令</h3> <p>用于查找文件（参数有55个）</p> <p>find 路径范围 选项 选项的值</p> <ul><li>-name  按照文档名称进行搜索，支持模糊搜索</li> <li>-type  按照文档类型进行搜索<br>
文档类型 “-”表示文件，这里使用f替换  “d”表示文件夹</li></ul> <h3 id="_8-service-start-stop-restart-指令"><a href="#_8-service-start-stop-restart-指令" class="header-anchor">#</a> 8 service * start/stop/restart 指令</h3> <p>用于控制一些软件服务启动停止重启</p> <p>service 服务名 start/stop/restart</p> <p>举例 如需要启动本机安装的Apache，服务名httpd</p> <p>service httpd start</p> <p>ps -ef|grep httpd</p> <h3 id="_9-kill-指令"><a href="#_9-kill-指令" class="header-anchor">#</a> 9 kill 指令</h3> <p>表示杀死进程 （当遇到卡住的进程或者出于某些原因需要关闭进程的时候）</p> <p>kill 进程PID （语法需要配合ps一起使用）</p> <p>ps -ef|grep httpd 列出进程获取PID</p> <p>kill PID</p> <p>killall 进程名称</p> <p>killall httpd</p> <h3 id="_10-ifconfig-指令"><a href="#_10-ifconfig-指令" class="header-anchor">#</a> 10 ifconfig 指令</h3> <p>用户操作网卡的指令，获取网卡信息</p> <h3 id="_11-reboot-指令-重启计算机"><a href="#_11-reboot-指令-重启计算机" class="header-anchor">#</a> 11 reboot 指令 重启计算机</h3> <p>reboot
reboot -w 模拟重启，但是不重启（只写关机开机的日志信息）</p> <h3 id="_12-shutdown-指令"><a href="#_12-shutdown-指令" class="header-anchor">#</a> 12 shutdown 指令</h3> <p>关机 （慎用）</p> <p>shutdown -h now &quot;关机提示&quot;</p> <p>shutdown -h 15:25</p> <p>取消关机计划</p> <p>centos7.x 之前 Ctrl+c</p> <p>centos7.x 之后 shutdown -c</p> <p>其他关机命令 init 0；halt；poweroff</p> <h3 id="_13-uptime-指令"><a href="#_13-uptime-指令" class="header-anchor">#</a> 13 uptime 指令</h3> <p>输出计算机的持续在线时间 计算机从开始到现在运行的时间</p> <p>cmd命令：systeminfo   也能看到</p> <h3 id="_14-uname-指令"><a href="#_14-uname-指令" class="header-anchor">#</a> 14 uname 指令</h3> <p>获取计算机操作系统相关信息</p> <p>uname 获取操作系统的类型</p> <p>uname -a     all 表示获取全部的系统信息（类型 全部主机名 内核版本 发布时间 开源计划）</p> <h3 id="_15-netstat-tnlp-指令"><a href="#_15-netstat-tnlp-指令" class="header-anchor">#</a> 15 netstat -tnlp 指令</h3> <p>查看网络连接状态</p> <ul><li>-t 表示只列出tcp协议的连接</li> <li>-n 表示将地址从字母组合转化为ip地址，将协议转化成端口号来显示</li> <li>-l 表示过滤出  “state状态” 列出其值为LISTEN（监听）的连接</li> <li>-p 表示显示发起连接的进程pid和进程名称</li></ul> <h3 id="_16-man-指令"><a href="#_16-man-指令" class="header-anchor">#</a> 16 man 指令</h3> <p>manual 手册 包含了Linux中全部命令手册，英文</p> <p>man 命令   退出按下q键</p> <p>man cp 通过命令查询cp指令的用法</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>练习题
如何通过命令行重启Linux操作系统 reboot
如何在命令行中快速删除光标前后的内容  前 Ctrl+u   后 Ctrl+k
如何删除/tmp下所有A开头的文件 rm -f /tmp/A*
系统重要文件需要备份，如何把/etc/passwd备份到/tmp目录下  cp /etc/passwd /tmp/
如何查看系统最后创建的3个用户 tail -3 /etc/passwd
什么命令可以统计当前系统中一共有多少账户 wc -l /etc/passwd    #cat /etc/passwd|wc -l
如何创建/tmp/test.conf文件 touch /tmp/test.conf
如何通过vim编辑打开 /tmp/test.conf  vim /tmp/test.conf
如何查看/etc/passwd的头3行和尾3行 head -3 /etc/passwd ; tail -3 /etc/passwd
如何一次性创建目录 /test/1/2/3/4 mkdir -p /test/1/2/3/4
如何最快的返回到当前账户的家目录 cd ~   # cd
如何查看/etc所占的磁盘空间 du -sh /etc
如何删除/tmp下所有的文件 rm -rf /tmp/*
尝试启动Apache的服务，并检查启动是否成功 service httpd start ; ps -ef|grep httpd
使用已学命令杀死Apache的进程 killall httpd;kill PID
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div> <h2 id="vim编辑器"><a href="#vim编辑器" class="header-anchor">#</a> vim编辑器</h2> <p>vi编辑器 是所有Unix及Linux系统下的标准编辑器 类似于Windows系统下的notepad，在Unix及Linux系统任何版本完全相同，是Linux最基本的编辑器。</p> <p>vim比较高级可以视为vi的升级版，vi用于文本编辑，vim适用于coding</p> <p>vim点是光标的移动，模式切换，删除，查找，替换，复制，粘贴，撤销命令的使用</p> <h3 id="三种模式"><a href="#三种模式" class="header-anchor">#</a> 三种模式</h3> <h4 id="命令模式-打开默认进入的模式"><a href="#命令模式-打开默认进入的模式" class="header-anchor">#</a> 命令模式   打开默认进入的模式</h4> <p>不能直接对文件进行直接编辑，可以输入快捷键进行一些操作，删除行 复制行 移动光标 粘贴</p> <h4 id="编辑模式-输入模式"><a href="#编辑模式-输入模式" class="header-anchor">#</a> 编辑模式（输入模式）</h4> <p>可以对文件内容进行编辑</p> <h4 id="末行模式"><a href="#末行模式" class="header-anchor">#</a> 末行模式</h4> <p>在末行输入命令来对文件进行操作，搜索 替换 保存 退出 撤销 高亮</p> <h4 id="打开文件的方式-4种"><a href="#打开文件的方式-4种" class="header-anchor">#</a> 打开文件的方式 4种</h4> <p>vim 文件路径  打开指定文件</p> <p>vim +数字 文件路径  打开指定文件，并且光标移动到指定的行</p> <p>vim +/关键字 文件的路径  打开指定文件，并且高亮显示关键字</p> <p>vim 文件路径1 文件路径2...  同时打开多个文件</p> <p>退出命令    :q</p> <p>etc下文件不能乱动</p> <h4 id="命令模式"><a href="#命令模式" class="header-anchor">#</a> 命令模式</h4> <h5 id="光标的操作"><a href="#光标的操作" class="header-anchor">#</a> 光标的操作</h5> <p>移动到行首 shift+6 ^</p> <p>移动到行尾 shift+4 $</p> <p>移动到行尾 gg</p> <p>移动到末行 G</p> <p>向上翻屏 ctrl+b     PgUp</p> <p>向下翻屏 ctrl+f     PgDn</p> <h5 id="复制操作"><a href="#复制操作" class="header-anchor">#</a> 复制操作</h5> <p>复制光标所在行 yy</p> <p>粘贴，在想要粘贴的地方按下p键</p> <p>以光标所在行为准（包括当前行）向下复制制定的行数   数字+yy</p> <p>可视化复制 ctrl+v   -&gt;    按下方向键来选中需要复制的区块，按下yy键复制，p键粘贴</p> <h5 id="剪切-删除"><a href="#剪切-删除" class="header-anchor">#</a> 剪切 删除</h5> <p>剪切删除光标所在行 dd (删除后下一行上移)   dd严格来说是剪切，如果剪切不粘贴，就是删除</p> <p>剪切 删除以光标所在行为准，向下删除 剪切指定的行  (删除后下一行上移)    数字+dd</p> <p>剪切 删除光标所在行，但是删除之后下一行不上移（当前行变成空白）   D</p> <h5 id="撤销-恢复"><a href="#撤销-恢复" class="header-anchor">#</a> 撤销 恢复</h5> <p>撤销  :u/u  (undo)</p> <p>恢复  ctrl+r  取消之前的撤销操作</p> <h5 id="命令模式-扩展"><a href="#命令模式-扩展" class="header-anchor">#</a> 命令模式 扩展</h5> <p>快速将光标移动到指定的行数  数字+G</p> <p>以当前光标为准向上或者向下移动n行  数字+向上键/向下键</p> <p>以当前光标为准向左或者向右移动n字符  数字+向左/向右</p> <p>末行模式的快速移动方式移动到指定行  英文冒号 : 输入行数的数字，回车</p> <h4 id="模式的切换"><a href="#模式的切换" class="header-anchor">#</a> 模式的切换</h4> <p>终端即命令模式（默认）  输入英文冒号:  -&gt;  末行模式   按1下 esc  按2下esc  删除末行中的全部命令  -&gt; 返回命令模式</p> <p>按下i a       -&gt;  编辑模式   按1下 esc  -&gt;  返回命令模式</p> <p>末行模式</p> <p>编辑模式</p> <h4 id="末行模式详细"><a href="#末行模式详细" class="header-anchor">#</a> 末行模式详细</h4> <p>按1下 esc</p> <p>连续按2下esc</p> <p>删除末行全部输入字符</p> <p>保存操作</p> <p>保存文件  :w</p> <p>另存文件  :w 路径（可以相对可以绝对）</p> <p>退出 :q</p> <p>保存并退出  :wq</p> <p>强制  :q!  表示强制退出，刚才做的修改操作不做保存</p> <p>调用外部命令  :!ls -la /   按下任意键回到vim编辑器打开的内容</p> <p>搜索和查找</p> <p>搜索  /关键词    在搜索结果中上下切换  上 N  下 n</p> <p>如果需要取消高亮，输入 “:nohl”   no highlight</p> <p>替换</p> <ul><li>😒/搜索的关键词/新的内容  替换光标所在行第一处符合条件的内容</li> <li>😒/搜索的关键词/新的内容/g  替换光标所在行全部符合条件的内容</li> <li>:%s/搜索的关键词/新的内容  替换整个文档中每行第一个符合条件的内容</li> <li>:%s/搜索的关键词/新的内容/g  替换整个文档中每行全部符合条件的内容</li> <li>% 表示整个文件</li> <li>g 表示全局global</li></ul> <p>显示行号</p> <p>:set nu</p> <p>取消</p> <p>:set nonu</p> <p>使用vim同时打开多个文件，在末行模式下进行切换文件</p> <p>vim 多个文件</p> <p>查看当前已经打开的文件名称  :files</p> <p>2种显示</p> <ul><li>%a (a active)  表示当前正在打开的文件</li> <li>#              表示上一个打开的文件
切换文件的方式：</li> <li>指定切换文件的名称  :open 已经打开的文件名</li> <li>通过其他命令切换上一个文件或者下一个文件  :bn 切换到下一个文件  :bp  切换到上一个文件
PgUp/PgDn</li></ul> <h4 id="编辑模式"><a href="#编辑模式" class="header-anchor">#</a> 编辑模式</h4> <ul><li>i  在光标所在字符前开始插入insert</li> <li>a  在光标所在字符后开始插入after</li> <li>o  在光标所在行的下面另起一新行插入</li> <li>I  在光标所在行的行首开始插入 如果行首有空格则在空格之后插入</li> <li>A  在光标所在行的行尾开始插入</li> <li>O  在光标所在行的上面另起一行开始插入</li> <li>S  删除光标所在行并开始插入</li></ul> <p>esc 退出</p> <h4 id="实用功能"><a href="#实用功能" class="header-anchor">#</a> 实用功能</h4> <p>代码着色 打开/关闭</p> <ul><li>:syntax on</li> <li>:syntax off</li></ul> <p>vim计算机的使用</p> <p>进入编辑模式；按下 ctrl+r 输入 = ，此时光标会变到最后一行；输入需要计算的内容，按下回车。</p> <h4 id="vim的配置"><a href="#vim的配置" class="header-anchor">#</a> vim的配置</h4> <p>一款编辑器，有配置文件</p> <p>三种配置情况</p> <ul><li><p>在文件打开的时候在末行模式下输入配置 临时</p> <p>个人配置文件  ～/.vimrc</p> <p>全局配置文件 vim自带  /etc/.vimrc</p></li> <li><p>新建个人配置文件进入编辑</p> <p>touch .vimrc</p> <p>vim .vimrc</p> <p>在配置文件中进行配置</p> <p>比如显示行好 set nu</p> <p>配置好之后再次打开显示效果</p></li> <li><p>个人配置文件和全局配置文件冲突的时候，以个人配置文件为准；没有个人配置文件时，以全局配置文件为准。</p></li></ul> <h4 id="异常退出问题"><a href="#异常退出问题" class="header-anchor">#</a> 异常退出问题</h4> <p>编辑文件没有正常保存，突然关闭终端或者异常断电</p> <p>解决办法：将交换文件（在编辑过程中产生的临时文件）删除  rm -f .文件名.</p> <h4 id="别名机制"><a href="#别名机制" class="header-anchor">#</a> 别名机制</h4> <p>相当于创建一些属于自己的自定义命令</p> <p>在Linux下创造 cls 命令</p> <p>别名机制依靠一个别名映射文件  当前用户家目录下  ~/.bashrc</p> <p>alias rm= 'rm -i'</p> <p>alias cls= 'clear'</p> <p>如果想新创造的命令生效，需要重新登陆当前用户。</p> <h4 id="退出方式"><a href="#退出方式" class="header-anchor">#</a> 退出方式</h4> <p>:q + :wq= :x</p> <p>:x 在文件没有修改的情况下是退出，有修改的情况下是保存并退出</p> <p>如果文件没有被修改，使用wq退出，文件的修改时间会更新，但是如果文件使用x退出，文件修改时间不会被更新</p> <p>混淆用户对文件修改时间的认定。</p> <p>建议使用 :x 。</p> <h5 id="不要输入-x-大写x-表示对文件进行加密操作"><a href="#不要输入-x-大写x-表示对文件进行加密操作" class="header-anchor">#</a> 不要输入 :X 大写x，表示对文件进行加密操作</h5> <h3 id="linux-自有服务"><a href="#linux-自有服务" class="header-anchor">#</a> Linux 自有服务</h3> <p>不需要独立安装的软件服务，当系统安装好之后就可以直接使用的服务内置</p> <h4 id="运行模式-也可以叫运行级别"><a href="#运行模式-也可以叫运行级别" class="header-anchor">#</a> 运行模式 也可以叫运行级别</h4> <p>存在一个进程 init initialize 初始化 进程ID 1</p> <p>查看进程 ps -ef|grep init</p> <p>该进程存在一个对应的配置文件 inittab 系统运行级别配置文件 位置 etc/inittab</p> <p>文件看，当前系统有多少种运行级别或者模式</p> <ul><li>0 表示关机级别 不要将默认的运行级别设置为0</li> <li>1 单用户模式</li> <li>2 多用户模式 不带NFS network file system</li> <li>3 多用户模式 完全的多用户模式</li> <li>4 没有被使用的模式</li> <li>5 X11 完整的图形化界面模式</li> <li>6 表示重启级别 不要把默认级别设置为6</li></ul> <p>init 指令 需要超级管理员权限</p> <p>与级别相关的几个命令</p> <ul><li>init 0  表示关机</li> <li>init 3  表示切换到不带桌面的模式</li> <li>init 5  切换到图形界面</li> <li>init 6  重启电脑</li></ul> <p>调用init的进程，将数字传递给进程，执行相应的操作</p> <p>设置永久的运行级别，打开etc/inittab文件修改默认值，重启生效</p> <h3 id="用户和用户组的管理-重要"><a href="#用户和用户组的管理-重要" class="header-anchor">#</a> 用户和用户组的管理 重要</h3> <p>Linux系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统。</p> <p>用户的账号一方面可以帮助系统管理员对使用系统的用户进行跟踪，并控制他们对系统资源的访问；另一方面也可以帮助用户组织文件，并为用户提供安全性保护。</p> <p>每个用户账号都拥有一个唯一的用户名和各自的密码</p> <p>用户在登录时键入正确的用户名和密码后，就能够进入系统和自己的主目录。</p> <p>要想实现用户账号的管理，要完成的工作主要有如下几个方面：</p> <ul><li>用户账号的添加 删除 修改以及用户密码的管理</li> <li>用户组的管理</li></ul> <p>注意三个文件：</p> <ul><li>etc/passwd  存储用户的关键信息</li> <li>etc/group  存储用户组的关键信息</li> <li>etc/shadow  存储用户的密码信息</li></ul> <h4 id="用户管理"><a href="#用户管理" class="header-anchor">#</a> 用户管理</h4> <h5 id="添加用户"><a href="#添加用户" class="header-anchor">#</a> 添加用户</h5> <p>常用语法 useradd 选项 用户名</p> <p>选项</p> <ul><li>-g  表示指定用户的用户组 选项的值可以使用户组的ID 也可以是组名</li> <li>-G  表示指定用户的附加组 选项的值可以使用户组的ID 也可以是组名</li> <li>-u  uid 用户的id（用户的标识符）  默认会从500之后按照顺序分配uid 如果不像使用系统分配 可以通过该选项定义</li> <li>-c  注释</li></ul> <p>验证是否成功</p> <ul><li>cat etc/passwd  验证文件最后一行，查看是否有新创建的用户信息</li></ul> <p>验证是否存在家目录（在centos下创建好用户之后随之产生一个同名家目录）  ls /home/</p> <p>扩展：认识 passwd 文件</p> <p>用户名  密码：用户id：用户组id：注释：家目录：解释器shell</p> <p>用户名  创建新用户名称 后期登录的时候需要输入</p> <p>密码  此密码位置一般情况都是x，表示密码的占位</p> <p>用户id  用户的识别符</p> <p>用户组id  该用户所属的主组id</p> <p>注释  解释该用户是做什么用的</p> <p>家目录  用户登录进入系统之后默认的位置</p> <p>解释器shell  等待用户进入系统之后 用户输入指令之后 该解释器会收集用户输入的指令 传递给内核处理</p> <p>在不添加选项的时候，useradd 执行之后会执行一系列操作</p> <p>创建同名的家目录</p> <p>创建同名的用户组</p> <p>useradd -g 501 -G 500 -u 666 lilei    创建用户lilei 让它属于501主组 附加组500 自选靓号666</p> <p>查看用户的主组可以查看passwd文件，查看附加组可以查看group文件</p> <h5 id="修改用户"><a href="#修改用户" class="header-anchor">#</a> 修改用户</h5> <p>常用语法 usermod 选项 用户名</p> <p>User modify</p> <p>选项</p> <ul><li>-g  表示指定用户的用户组 选项的值可以使用户组的ID 也可以是组名</li> <li>-G  表示指定用户的附加组 选项的值可以使用户组的ID 也可以是组名</li> <li>-u  uid 用户的id（用户的标识符）  默认会从500之后按照顺序分配uid 如果不像使用系统分配 可以通过该选项定义</li> <li>-l  修改用户名</li></ul> <h6 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h6> <p>修改 zs 的主组 改为 500 附加组改为 501  usermod -g 500 -G501 zs</p> <p>修改 zs 用户名 为 lis   usermod -l 新用户名 旧用户名</p> <h5 id="设置密码"><a href="#设置密码" class="header-anchor">#</a> 设置密码</h5> <p>Linux不允许没有密码的用户登陆到系统，新创建的没有密码的用户都处于锁定状态</p> <p>passwd 用户名</p> <p>回车之后输入密码，输入密码没有提示，两次输入密码必须一致</p> <p>不使用弱密码</p> <p>tail -3 /etc/shadow  可以看到是否添加了密码</p> <p>设置好密码之后就可以登陆用户</p> <h6 id="切换用户名命令-su-用户名-没有用户名切换到超管用户"><a href="#切换用户名命令-su-用户名-没有用户名切换到超管用户" class="header-anchor">#</a> 切换用户名命令 su 用户名，没有用户名切换到超管用户</h6> <p>切换用户需要注意</p> <ul><li>root 切换普通不需要密码，反之需要</li> <li>切换之后前后工作路径是不变的</li> <li>普通用户不能访问root家目录，反之可以</li></ul> <h5 id="删除用户"><a href="#删除用户" class="header-anchor">#</a> 删除用户</h5> <p>userdel 选项 用户名</p> <p>常用选项</p> <p>-r  表示删除用户的同时，删除其家目录</p> <p>删除zs用户 userdel -r zs</p> <p>如果用户已经登陆删除会报问题，问如何删除？</p> <p>kill 对应用户的全部进程</p> <p>ps -ef|grep zs</p> <p>tips：所有跟用户操作的命令，除了passwd，只有root超级管理员有权限执行</p> <h4 id="用户组管理"><a href="#用户组管理" class="header-anchor">#</a> 用户组管理</h4> <p>每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理，不同的Linux系统对用户组的规定有所不同，如Linux下的用户属于与它同名的用户组，这个用户组在创建用户时候同时创建</p> <p>用户组的管理涉及用户组的添加 删除 修改，这个操作实际上是对 /etc/group 文件的更新</p> <p>文件结构</p> <p>用户组名：密码：用户组ID：组内用户名</p> <p>X表示占位符，可以设置密码，大部分时候不设置</p> <p>组内用户名 表示附加组是该组的用户名称</p> <p>用户组添加 groupadd 选项 用户组名</p> <p>-g  类似用户添加里的-u，表示选择自己设置一个自定义的用户组ID数字，默认是从500开始</p> <p>创建一个新的用户组  groupadd -g 520 admingroup</p> <p>tail -1 /etc/group</p> <p>用户组编辑 groupmod 选项 用户组名</p> <ul><li>-g  类似用户添加里的-u，表示选择自己设置一个自定义的用户组ID数字</li> <li>-n  类似于用户修改里的-l，表示设置一个新的用户组名称</li></ul> <p>修改将组ID从 501 改成 502 ，将名称改为 admins  groupmod -g 500 -n admins admingroup</p> <p>用户组删除  groupdel 用户组名</p> <p>如果需要删除一个组，但是这个组是某个用户的主组时，不允许删除；确实需要删除，先移除用户，再删除</p> <p>usermod -g 0 zs    0 是表示 root</p> <h4 id="网络设置"><a href="#网络设置" class="header-anchor">#</a> 网络设置</h4> <p>控制面板 网络 网络连接</p> <p>ls /etc/sysconfig/network-scripts/    网卡相关的配置文件</p> <p>在目录中网卡配置文件的命名格式 ifcfg-网卡名称</p> <p>单独一个文件内容——重要的几个</p> <p>ONBOOT  是否开机启动</p> <p>BOOTPROTO  ip地址分配方式，DHCP表示动态主机分配协议</p> <p>HWADDR  硬件地址 MAC 地址</p> <p>重启网卡的命令</p> <p>service network restart</p> <p>在有的分支版本中可能没有service命令来快速操作服务，但有一个共性的目录 /etc/init.d/  存放服务的快捷方式</p> <p>/etc/init.d/network restart</p> <p>ls -l 查看文件时，列表中l表示类型为 link 连接类型，后面 -&gt; 指向的是原始文件路径。</p> <h5 id="如果修改网卡的配置文件-但是配置文件的目录层次很深-此时可以在浅的目录中创建一个快捷方式-方便以后去查找"><a href="#如果修改网卡的配置文件-但是配置文件的目录层次很深-此时可以在浅的目录中创建一个快捷方式-方便以后去查找" class="header-anchor">#</a> 如果修改网卡的配置文件，但是配置文件的目录层次很深，此时可以在浅的目录中创建一个快捷方式，方便以后去查找</h5> <p>ln -s  创建一个快捷方式 软链接</p> <p>ln -s  原始文件的路径  快捷方式的命令</p> <p>ln -s /etc/sysconfig/network-scripts/ifcfg=eth0 ~/ifcfg=eth0</p> <p>重启单个网卡</p> <p>停止某个网卡  ifdown 网卡名</p> <p>开启某个网卡  ifup 网卡名</p> <p>ifdown eth0</p> <p>ifup eth0</p> <p>在实际工作中不要随意禁网卡即ifdown</p> <h3 id="ssh文件传输工具-filezilla"><a href="#ssh文件传输工具-filezilla" class="header-anchor">#</a> SSH文件传输工具  filezilla</h3> <p>安装后显示桌面图标</p> <h3 id="使用pscp传输文件-通过命令行工具来传输文件-文件夹"><a href="#使用pscp传输文件-通过命令行工具来传输文件-文件夹" class="header-anchor">#</a> 使用pscp传输文件 通过命令行工具来传输文件/文件夹</h3> <p>必须通过cmd打开，为了方便使用放在环境变量目录中</p> <p>不清楚环境变量目录，放在 c://windows 目录下即可</p> <p>pscp 选项 用户名@linux 主机地址:资源路径 windows本地的地址   下载到win</p> <p>pscp 选项 资源路径 用户名@linux 主机地址:远程路径   上传到linux</p> <p>pscp 选项 ls 用户名@linux 主机地址:远程路径  列出远程路径下的结构</p> <p>示例</p> <ul><li>pscp -r root@ip:/etc E:\tmp</li> <li>pscp -r E:\tmp root@ip:/etc</li></ul> <h3 id="设置主机名"><a href="#设置主机名" class="header-anchor">#</a> 设置主机名</h3> <p>hostname</p> <p>hostname -f  FQDN 全限定域名</p> <p>临时设置主机名，需要切换用户才能生效 执行su命令</p> <p>hostname 主机名称</p> <p>永久设置主机名  需要重启生效</p> <p>找到文件 /etc/sysconfig/network   主机名配置文件，修改其中的hostname，可以永久生效</p> <p>修改Linux服务器的hosts文件，将 新名称 指向本地 设置 FQDN</p> <p>Hosts 文件的位置 /etc/hosts</p> <p>如果不设置 FQDN 会怎么样</p> <p>很多开源服务器软件无法启动或者出现报错</p> <p>方便记忆，看到主机名对其作用有一个初步判断</p> <p>如果不设置则会影响本地域名的解析 本地访问</p> <h3 id="chkconfig"><a href="#chkconfig" class="header-anchor">#</a> chkconfig</h3> <p>作用 相当于 windows 下 安全卫士、电脑管家 一类的安全辅助工具，提供“开机启动项”的管理服务</p> <p>在Linux下不是所有的软件安装之后都有开机启动服务，需要自己去添加查看删除</p> <p>开机启动服务查询</p> <p>chkconfig --list</p> <p>0-6表示各个启动级别，在对应的开机启动形势下对应的状态</p> <p>删除服务</p> <p>chkconfig --del 服务名</p> <p>添加开机启动服务</p> <p>chkconfig --add 服务名   必须要保证服务能够正常运行 chkconfig --list|grep httpd</p> <p>设置服务在某个级别下开机启动/不启动【重点命令】</p> <p>chkconfig --level 连在一起的启动级别 服务名 开/关</p> <p>示例</p> <ul><li>chkconfig --level 35 httpd on</li> <li>chkconfig --list|grep httpd</li> <li>chkconfig --level 5 httpd off</li></ul> <h3 id="ntp-服务"><a href="#ntp-服务" class="header-anchor">#</a> ntp 服务</h3> <p>ntp主要是用于对计算机的时间同步管理操作</p> <p>date + “%F %T”</p> <p>时间对服务器很重要，一般许多网站需要读取服务器时间来记录相关信息</p> <p>虚拟机里的Linux时间不准确的解决办法</p> <ul><li>1、一次性同步（手动同步）</li></ul> <p>ntpdate + 时间服务器的域名或者ip地址</p> <p>上游概念 服务器 -&gt; 上一级服务器 -&gt; 根服务器</p> <ul><li>2、通过服务自动同步 设置时间同步服务</li></ul> <p>服务名  ntpd</p> <p>启动   ntpd 服务</p> <p>service ntpd start 或者 /etc/init.d/ntpd start</p> <p>设置开机启动</p> <p>chkconfig --list|grep ntpd</p> <p>chkconfig --level 35 ntpd on</p> <h3 id="防火墙服务"><a href="#防火墙服务" class="header-anchor">#</a> 防火墙服务</h3> <p>指防范一些网络攻击。有软件防火墙和硬件防火墙</p> <p>选择让请求通过，保证网络安全</p> <p>在当前centos中防火墙 名称 6.5 iptables  7.x firewalld</p> <p>查看iptables是否开机启动</p> <p>ps -ef|grep iptables  进程</p> <p>chkconfig --list|grep iptables</p> <p>iptables服务启动 重启 关闭</p> <p>service iptables start/restart/stop</p> <p>/etc/init.d/iptables start/restart/stop</p> <p>查看 iptables 的状态 规则</p> <p>service iptables status</p> <p>prot 协议</p> <p>查看规则命令</p> <p>iptables -L -n</p> <p>-L 表示列出规则</p> <p>-n 表示将单词表达形式改成数字形式显示</p> <p>设置防火墙规则
例如 需要允许80端口通过防火墙 则规则可以用以下命令来设置</p> <p>iptables -A INPUT -p tcp --dport 80 -j ACCEPT</p> <p>iptables  主命令</p> <p>-A   add  添加规则</p> <p>INPUT 进站请求  出站output</p> <p>-p  protocol,指定协议  icmp tcp upd</p> <p>--dport  指定端口号</p> <p>-j  指定行为结果，允许/禁止 accept reject</p> <p>添加完成之后 保存操作</p> <p>/etc/init.d/iptables save</p> <p>不保存重启之后就没有了</p> <p>ifconfig  查看IP</p> <p>iptables -L -n  查看规则写入</p> <p>ps -ef|grep iptables  查看进程在不在</p> <p>/etc/init.d/iptables restart</p> <h3 id="rpm管理"><a href="#rpm管理" class="header-anchor">#</a> rpm管理</h3> <p>作用 类似于 window 上的电脑管家里的软件管理   主要是对Linux服务器上的软件包进行对应的管理操作，管理分为 查询 卸载 安装</p> <p>查询</p> <p>rpm -qa|grep 关键词</p> <p>-q 查询 query</p> <p>-a 全部 all</p> <p>rpm -qa|grep firefox</p> <p>卸载</p> <p>rpm -e 软件名称</p> <p>rpm -e firefox</p> <p>卸载时有依赖关系无法卸载，有提示。这个时候使用强制卸载</p> <p>rpm -e 软件包名 --nodeps</p> <p>rpm -e httpd --nodeps</p> <p>安装</p> <p>找到软件的安装包</p> <p>官网找软件包；不介意版本，从光盘或者镜像文件读取</p> <p>以光盘为例</p> <p>查看块状设备  lsblk</p> <p>name 名称</p> <p>size 设备大小</p> <p>type 类型</p> <p>mountpoint 挂载点类似window下的盘符</p> <p>解除挂载 umount 当前设备挂载点</p> <p>挂载光盘 mount 设备原始地址 要挂载的位置路径</p> <ul><li>设备原始地址 地址统一在dev下，根据大小确定具体name值，拼凑在一起组成原始地址， /dev/sr0</li> <li>要挂载的位置路径 挂载目录一般在mnt  /mnt/dvd</li></ul> <p>安装软件命令</p> <p>rpm -ivh 软件包完整名称</p> <p>i install 安装</p> <p>v 显示进度条</p> <p>h 以 # 号形式显示进度条</p> <h2 id="cron-crontab-计划任务"><a href="#cron-crontab-计划任务" class="header-anchor">#</a> cron/crontab 计划任务</h2> <p>cron/crontab</p> <p>操作系统不可能24小时都有人操作，需要有计划任务，指定时间去执行任务</p> <h3 id="crontab-选项"><a href="#crontab-选项" class="header-anchor">#</a> crontab 选项</h3> <p>选项</p> <ul><li>-l list 列出指定用户计划任务列表</li> <li>-e edit 编辑指定用户的计划任务列表</li> <li>-u user 指定用户名</li> <li>-r remove 删除指定用户的计划任务列表</li></ul> <h3 id="编辑计划任务"><a href="#编辑计划任务" class="header-anchor">#</a> 编辑计划任务</h3> <p>计划任务的规则语法格式 以行为单位，一行则为一个计划</p> <p>分 时 日 月 周 需要执行的命令</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">0</span> <span class="token number">0</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token operator">*</span> reboot  <span class="token comment">// 每天零点零分执行操作</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>分 0-59</li> <li>时 0-23</li> <li>日 1-31</li> <li>月 1-12</li> <li>周 0-6 0表示星期天</li></ul> <p>四个符号</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">*</span> 每一个数字
<span class="token operator">-</span> 做区间表达式 <span class="token number">1</span><span class="token operator">-</span><span class="token number">7</span>
<span class="token operator">/</span> 每多少个 分的位置上 <span class="token operator">*</span><span class="token operator">/</span><span class="token number">10</span> 表示每<span class="token number">10</span>分钟一次
<span class="token punctuation">,</span> 表示多个取值 <span class="token number">1</span> <span class="token number">2</span> <span class="token number">6</span> 点执行， 在时的位置上写 <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span>

每月<span class="token number">1</span> <span class="token number">10</span> <span class="token number">22</span>日的<span class="token number">4</span>：<span class="token number">45</span>重启 network 服务 <span class="token number">45</span> <span class="token number">4</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">22</span> <span class="token operator">*</span> <span class="token operator">*</span> service network restart
每周六 周日的<span class="token number">1</span>：<span class="token number">10</span>重启network服务  <span class="token number">10</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">6</span> service network restart
每天<span class="token number">18</span>：<span class="token number">00</span>至<span class="token number">23</span><span class="token operator">:</span><span class="token number">00</span>之间每隔<span class="token number">30</span>分钟重启network服务 <span class="token operator">*</span><span class="token operator">/</span><span class="token number">30</span> <span class="token number">18</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token operator">*</span> service network restart
每隔两天的上午<span class="token number">8</span>点到<span class="token number">11</span>点的第<span class="token number">3</span>和第<span class="token number">15</span>分钟执行一次重启 <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">15</span> <span class="token number">8</span><span class="token operator">-</span><span class="token number">11</span> <span class="token operator">*</span><span class="token operator">/</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token operator">*</span> reboot

<span class="token operator">*</span><span class="token operator">/</span><span class="token number">1</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token operator">*</span> ls <span class="token operator">~</span> <span class="token operator">&gt;&gt;</span> <span class="token operator">/</span>root<span class="token operator">/</span><span class="token constant">RT</span><span class="token punctuation">.</span>txt  每分钟往root家目录中的<span class="token constant">RT</span><span class="token punctuation">.</span>txt中输入当前的时间信息
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>crontab 权限问题 本身任何用户都可以创建自己的计划任务</p> <p>但是超级管理员可以通过配置文件来设置某些用户不允许设置计划任务</p> <p>配置文件 /etc/cron.deny 黑名单</p> <p>配置文件 /etc/cron.allow 白名单</p> <p>编辑：一行一个</p> <p>白名单优于黑名单，两个都有用户名，优先白名单</p> <h2 id="linux权限管理"><a href="#linux权限管理" class="header-anchor">#</a> Linux权限管理</h2> <p>权限概念 权限概述 属主与属组 权限组成</p> <p>权限指令 chmod chown chgrp</p> <p>扩展</p> <p>Linux的权限操作与用户 用户组是兄弟操作</p> <p>Linux系统一般将文件存取访问的身份分为3个类别 ower group others 且3种身份各有read write execute 等权限</p> <p>权限：在多用户计算机系统的管理中，权限是指某个特定用户具有特定系统资源使用权利，像是文件夹 特定系统指令的使用或存储量的限制</p> <p>读 写 执行</p> <ul><li><p>读权限</p> <p>对于文件夹 影响是否能够列出目录结构</p> <p>对于文件 影响是否可以查看文件内容</p></li> <li><p>写权限</p> <p>对于文件夹 是否可以在文件夹下 创建删除复制移动 文件</p> <p>对于文件 是否可以编辑文件</p></li> <li><p>执行权限</p> <p>一般对文件来说，特别是脚本文件</p></li></ul> <p>三个身份 owner group others root</p> <ul><li>owner 文件所有者，默认为文档的创建者</li> <li>group 与文件所有者同组的用户
在Linux中每个账户支持多个用户组</li> <li>others 其他人，相对于所有者</li> <li>root 超级用户</li></ul> <p>查看文件的基本属性和权限的分配规则，在Linux常用 ls命令 查看文件属性，用于显示文件的文件名和相关属性</p> <p>ls -l 路径    ls -l === ll</p> <p>drwxr-x---</p> <p>d 文件类型</p> <p>rwx 文件所有者权限</p> <p>r-x 文件所属用户组权限</p> <p>--- 其他人对这个文件的权限</p> <p>第1位 表示文档类型  d 文件夹 - 文件 l 软链接 s 套接字</p> <p>第2-4位 表示文档所有者的权限情况  2 读权限 r - 3 写权限 w 可写 - 不可写 4 表示执行权限的情况 x -</p> <p>第5-7位 表示与所有者同在一个组的用户的权限情况  5 读权限 r - 6 写权限 w 可写 - 不可写 7 表示执行权限的情况 x -</p> <p>第8-10位  表示除了上面的前2部分的用户之外的其他用户的权限。 8 读权限 r - 9 写权限 w 可写 - 不可写 10 表示执行权限的情况 x -</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>r read 可读
w write 可写
x execute 可执行
- 没有对应权限
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="权限的设置"><a href="#权限的设置" class="header-anchor">#</a> 权限的设置</h3> <p>chmod 选项 权限模式 文档</p> <p>chmod -R  递归设置权限（当文档是文件夹的时候）</p> <p>权限模式 该文档需要设置的权限信息</p> <p>文档  文件 文件夹 可以是相对路径绝对路径</p> <p>操作者 是root或者文档所有者</p> <h3 id="权限设置"><a href="#权限设置" class="header-anchor">#</a> 权限设置</h3> <p>chmod 选项 权限模式 文档</p> <p>-R 递归设置权限 当文档类型为文件夹的时候</p> <p>权限模式 该文档需要设置的权限信息</p> <p>文档 可以是文件，也可以是文件夹，可以是相对路径也可以是绝对路径</p> <p>设置权限 操作者是root 或者 文档所有者</p> <p>1 字母形式</p> <table><thead><tr><th style="text-align:left;">选项</th> <th style="text-align:left;">字母</th> <th style="text-align:left;">介绍</th></tr></thead> <tbody><tr><td style="text-align:left;">谁</td> <td style="text-align:left;">u</td> <td style="text-align:left;">用户</td></tr> <tr><td style="text-align:left;">谁</td> <td style="text-align:left;">g</td> <td style="text-align:left;">所属群体</td></tr> <tr><td style="text-align:left;">谁</td> <td style="text-align:left;">o</td> <td style="text-align:left;">其他人</td></tr> <tr><td style="text-align:left;">谁</td> <td style="text-align:left;">a</td> <td style="text-align:left;">所有人</td></tr> <tr><td style="text-align:left;">作用</td> <td style="text-align:left;">+</td> <td style="text-align:left;">增加权限</td></tr> <tr><td style="text-align:left;">作用</td> <td style="text-align:left;">-</td> <td style="text-align:left;">减少权限</td></tr> <tr><td style="text-align:left;">作用</td> <td style="text-align:left;">=</td> <td style="text-align:left;">确定权限</td></tr> <tr><td style="text-align:left;">权限</td> <td style="text-align:left;">r</td> <td style="text-align:left;">可读</td></tr> <tr><td style="text-align:left;">权限</td> <td style="text-align:left;">w</td> <td style="text-align:left;">可写</td></tr> <tr><td style="text-align:left;">权限</td> <td style="text-align:left;">x</td> <td style="text-align:left;">执行</td></tr></tbody></table> <div class="language-text line-numbers-mode"><pre class="language-text"><code>u  表示所有者 owner   user
g  所有的同组用户    group
o  给其他用户设置权限  others
a  表示all  给所有人 包括ugo部分设置权限
    如果在设置权限的时候不指定给谁设置，则默认给所有用户设置
权限字符
  r 读
  w 写
  x 表示执行
权限分配方式
  + 表示给具体用户新增权限
  - 删除用户的权限
  = 表示将权限设置成具体的值 结果
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>示例：表示给 aa.txt 文件设置权限，要求所有者拥有全部权限。同组用户拥有读和执行权限，其他用户只读权限</p> <p>chmod u+x,g+rx,o+r aa.txt</p> <p>chmod u=rwx,g=rx,o=r aa.txt</p> <p>文件所有人都有执行权限</p> <ul><li>chmod +x 文件</li> <li>chmod a=x 文件</li> <li>chmod a+x 文件</li></ul> <p>当文档拥有执行权限，则其颜色在终端是绿色</p> <p>2 数字形式</p> <table><thead><tr><th style="text-align:left;">数值</th> <th style="text-align:left;">权限</th> <th style="text-align:left;">目录列表</th></tr></thead> <tbody><tr><td style="text-align:left;">0</td> <td style="text-align:left;">不能读不能写不能执行</td> <td style="text-align:left;">---</td></tr> <tr><td style="text-align:left;">1</td> <td style="text-align:left;">不能读不能写可执行</td> <td style="text-align:left;">--x</td></tr> <tr><td style="text-align:left;">2</td> <td style="text-align:left;">不能读可写不能执行</td> <td style="text-align:left;">-w-</td></tr> <tr><td style="text-align:left;">3</td> <td style="text-align:left;">不能读可写可执行</td> <td style="text-align:left;">-wx</td></tr> <tr><td style="text-align:left;">4</td> <td style="text-align:left;">可读不能写不能执行</td> <td style="text-align:left;">r--</td></tr> <tr><td style="text-align:left;">5</td> <td style="text-align:left;">可读不能写可执行</td> <td style="text-align:left;">r-x</td></tr> <tr><td style="text-align:left;">6</td> <td style="text-align:left;">可读可写不能执行</td> <td style="text-align:left;">rw-</td></tr> <tr><td style="text-align:left;">7</td> <td style="text-align:left;">可读可写可执行</td> <td style="text-align:left;">rwx</td></tr></tbody></table> <p>chmod 777 aa.txt</p> <p>读r  4</p> <p>写w  2</p> <p>执行x  1</p> <p>示例 给文件设置权限，所有者全部权限，同组用户读执行权限，其他用户只读权限</p> <ul><li>u 4+2+1</li> <li>g 4+1</li> <li>o 4</li> <li>chmod 754 文件</li></ul> <p>超级管理员设置 chmod -R 731 aaa;问题：同组用户有写的权限，没有读的权限</p> <p>注意：写权限尽量不设置类似于上面这样的权限；权限出现2 3，不合理</p> <p>注意事项</p> <p>使用root用户创建一个文件夹 /ooo，权限默认，权限如下：</p> <p>drwxr-xr-x</p> <p>需要在 ooo目录下创建文件 ooo/xx.txt 需要给 777 权限</p> <p>chmod 777 ooo/xx.txt</p> <p>su test</p> <p>test用户可以打开 能打开</p> <p>编辑 可以编辑</p> <p>删除 不能删除 不允许创建文件 文件夹 移动文件 重命名文件</p> <p>chmod -R o+w ooo</p> <p>touch ooo/a.txt</p> <p>rm -f ooo/a.txt</p> <p>在Linux中，要删除一个文件，要看文件夹权限是否有 写 的权限</p> <h3 id="属主与属组设置"><a href="#属主与属组设置" class="header-anchor">#</a> 属主与属组设置</h3> <p>属主 所属的主人</p> <p>属组 所属的用户组</p> <p>这两项信息在文档创建的时候会使用创建者的信息（用户名 用户所属的主组）</p> <p>如果删除某个用户，该用户对应的文档的属主和属组信息需要修改</p> <ul><li>1、chown 更改文档的所属用户</li></ul> <p>chown -R username 文档路径</p> <p>示例 将文件夹ooo属主给test</p> <p>chown test ooo/</p> <p>ls -l /|grep ooo</p> <ul><li>2 chgrp 更改文档的所属用户组</li></ul> <p>chgrp -R groupname 文档路径</p> <p>所有者给改为test，所属用户组也改为test</p> <p>chgrp test ooo/</p> <ul><li>合并以上两个命令</li></ul> <p>chown -R username:groupname 文档路径</p> <p>chown -R root:root ooo/  同时修改属主和属组为root</p> <h3 id="sudo操作"><a href="#sudo操作" class="header-anchor">#</a> sudo操作</h3> <p>reboot shutdown init halt user 普通用户身份不能操作，但是有些特殊情况下又需要执行权限，又不能让root用户把密码给普通用户</p> <p>使用 sudo 命令进行权限设置，sudo可以让root用户事先定义某些特殊命令谁可以执行</p> <p>默认sudo中是没有除root之外用户的规则，使用先配置sudo</p> <p>配置文件 /etc/sudoers</p> <p>a 配置sudo文件使用 visudo  打开使用方法和vim一致</p> <p>b 配置普通用户的权限</p> <p>root ALL=(ALL) ALL</p> <p>用户名，如果是用户组，可以写成“%组名” 表示允许登陆的主机，地址的白名单=以谁的身份去执行，all表示root身份 表示当前用户可以执行的命令，多个命令使用英文逗号分隔</p> <p>案例</p> <p>test不能添加用户，要求使用sudo配置，将其设置为可以添加用户，并且可以修改密码，但是不能修改root用户密码</p> <p>注意 在写sudo规则的时候不建议写直接形式的命令，而是写命令的完整路径。路径可以使用 which 命令查看 语法which 命令</p> <p>:!which useradd</p> <p>test ALL=(ALL) /usr/sbin/useradd,/usr/bin/passwd</p> <p>在添加好之后就可以切换用户test</p> <p>执行刚刚设置的命令 sudo useradd 用户名</p> <p>输入 sudo 指令之后需要输入当前的用户密码进行确认操作（不是root用户密码），输入之后在接下来的5分钟内再次执行 sudu 指令不要密码</p> <p>示例要求，不能让test用户修改root密码</p> <p>禁止修改root用户的配置</p> <p>test ALL=(ALL) /usr/sbin/useradd,!/usr/bin/passwd,/usr/bin/passwd [A-Za-z]*,!/usr/bin/passwd root</p> <p>在普通用户下，怎么知道自己有哪些特殊权限</p> <p>sudo -l</p> <p>sudo 不是任何Linux分支都有的命令，常见的centos与ubuntu都存在sudo命令</p> <h2 id="linux的网络基础"><a href="#linux的网络基础" class="header-anchor">#</a> Linux的网络基础</h2> <p>1969年 ARPANET 开始联机 被称为Internet元年</p> <p>网络分类：局域网 LAN  城域网 MAN  广域网 WAN</p> <p>按照所有者 公网 私网</p> <h3 id="ip地址-internet-protocol-网络之间互连的协议"><a href="#ip地址-internet-protocol-网络之间互连的协议" class="header-anchor">#</a> IP地址 Internet Protocol  网络之间互连的协议</h3> <p>IP地址类别分为</p> <p>公有地址  由inter nic(因特网信息中心)负责 这些IP地址分配给注册并向inter nic提出申请的组织机构，通过它访问因特网</p> <table><thead><tr><th style="text-align:left;">私有地址</th> <th style="text-align:left;">非注册地址</th></tr></thead> <tbody><tr><td style="text-align:left;">A类</td> <td style="text-align:left;">10.0.0.0-10.255.255.255</td></tr> <tr><td style="text-align:left;">B类</td> <td style="text-align:left;">172.16.0.0-172.31.255.255</td></tr> <tr><td style="text-align:left;">C类</td> <td style="text-align:left;">192.168.0.0-192.168.255.255</td></tr></tbody></table> <h3 id="网卡"><a href="#网卡" class="header-anchor">#</a> 网卡</h3> <p>是一个网络组件，属于硬件范畴，主要负责计算机之间数据的封装和解封</p> <p>MAC地址 网卡的物理地址 网卡设备的编号 默认是全球唯一的 16进制</p> <p>与IP地址的区别</p> <p>长度不同 IP 32 位  MAC 48 位</p> <p>分配依据不同</p> <p>网络寻址方式不同 OSI参考模型 IP基于第三层工作，网络层  MAC地址是第二层，数据链路层</p> <h3 id="网线"><a href="#网线" class="header-anchor">#</a> 网线</h3> <p>连接局域网必不可少的，有双绞线 同轴电缆 光缆</p> <h3 id="交换机"><a href="#交换机" class="header-anchor">#</a> 交换机</h3> <p>意为 开关，是一种用于电光信号转发的网络设备 可以为接入交换机的任意两个网络节点提供 独享 的电信号通路</p> <p>华为 华三 思科 锐捷</p> <h3 id="路由器"><a href="#路由器" class="header-anchor">#</a> 路由器</h3> <p>网关设备，用于连接多个逻辑上分开、相对独立的网络</p> <h3 id="拓扑结构图"><a href="#拓扑结构图" class="header-anchor">#</a> 拓扑结构图</h3> <p>就是把实体抽象成与其大小形状无关的点，而把连续实体的线路抽象成线，进而以图的形式来表示这些点与线之间关系的方法。其目的在于研究这些点 线之间的相连关系。表示点和线之间关系的图被称为拓扑结构图</p> <p>常见的几种拓扑结构图：星型拓扑结构 总线型拓扑结构 环形拓扑结构 树形拓扑结构 网状拓扑结构 混合型拓扑结构 蜂窝拓扑结构</p> <h2 id="网络相关命令"><a href="#网络相关命令" class="header-anchor">#</a> 网络相关命令</h2> <p>ping 检测当前主机与目标主机之间的连通性 不是100%，有的服务器是禁ping</p> <p>语法 ping 主机地址（IP地址 主机名 域名）</p> <p>该命令跨平台，window默认发4个，一直发加 -t，Linux会一直发</p> <p>netstat 表示查看网络的连接信息</p> <p>netstat -tnlp -t TCP协议  -n 将字母转化为数字  -l 列出状态为监听  -p  显示进程相关信息</p> <p>netstat -an   -a表示全部 -n将字母转化为数字</p> <p>TCP/IP协议时使用命令</p> <p>traceroute  查找当前主机与目标主机之间所有的网关 路由器（会给各个路由器发送icmp数据包，路由器可能会不给响应）</p> <p>该命令不是内置命令，需要安装</p> <p>traceroute 主机地址</p> <p>window下相同的命令 -&gt; tracert 主机地址</p> <p>tool.chinaz.com 以上命令可以在这个网站使用</p> <p>arp 地址解析协议，即ARP address resolution protocol，是根据IP地址获取物理地址的协议。物理地址就是mac地址</p> <p>arp -a 查看本地缓存的mac条</p> <p>arp -d 主机地址  删除指定的本地缓存</p> <p>tcpdump  抓包 抓取数据表</p> <ul><li>tcpdump 协议 port 端口</li> <li>tcpdump 协议 port 端口 host 地址</li> <li>tcpdump -l 网卡设备名</li></ul> <p>00:09:17.xxxx  监听数据的时分秒</p> <p>IP 使用的协议类型</p> <p>192.168.1.1  数据包的一个方向</p> <p>&gt;            数据流向</p> <p>192.168.1.1  数据包的另一个方向</p> <h2 id="项目上线流程"><a href="#项目上线流程" class="header-anchor">#</a> 项目上线流程</h2> <p>服务器选配购买</p> <p>项目上线服务器必须是外网服务器</p> <p>真实服务器或者云服务器  阿里云 腾讯云 华为云</p> <p>示例</p> <ul><li>购买阿里云服务器</li> <li>购买域名</li> <li>域名备案</li> <li>域名解析
将域名绑定在一个服务器地址</li> <li>配置生产环境</li> <li>上传代码 pscp filezilla</li></ul> <h2 id="shell相关"><a href="#shell相关" class="header-anchor">#</a> Shell相关</h2> <p>shell 外壳 是一个用c语言编写的程序，它是用户使用Linux的桥梁 shell即时一种命令语言，又是一种程序设计语言</p> <p>shell是指一种应用程序 这个应用程序提供了一个界面 用户通过这个界面访问操作系统</p> <p>什么是脚本</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>简单说就是 代码命令 这些命令可以用记事本打开查看
常见的脚本有 JavaScript VBScript ASP JSP PHP SQL Perl shell python ruby javafx lua
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>程序开发效率高 依赖于功能强大的命令可以迅速完成开发任务</p> <p>常见的shell种类</p> <ul><li>Linux有很多shell类型，不同的有不同的功能 Linux默认shell 是 /bin/bash  流行的shell有ash bash ksh csh zsh等 不同的shell都有自己的特点和用途</li> <li>csh c shell 类c 内部命令52个 已经被 /bin/thsh取代</li> <li>ksh 语法通 bourne shell 42条内部命令 与bash比有一定的限制性</li> <li>tcsh csh的增强版 与csh完全兼容</li> <li>sh 一种快捷方式，已经被/bin/shell取代</li> <li>nologin 指用户不能登录 usermod -s /sbin/nologin 用户名</li> <li>zsh 目前最庞大的shell 有84个内部命令</li> <li>bash 目前大多数Linux默认的 是 bourne shell 的一个免费版本 最早的Unix shell 可以通过help帮助 几乎涵盖了所有的功能 一般的shell指定它为执行路径</li></ul> <h3 id="shell入门"><a href="#shell入门" class="header-anchor">#</a> shell入门</h3> <ul><li><p>编写规范</p> <p>代码规范 #!/bin/bash 注释 用户指定告知系统当前这个脚本要使用的shell解释器</p> <p>shell 相关指令</p></li> <li><p>命名规范</p> <p>文件名.sh  bash shell默认后缀</p></li> <li><p>使用流程</p> <p>创建shell文件 touch/vim；编写shell代码；执行shell脚本，必须给有执行权限。</p></li> <li><p>创建test.sh 实现一个shell脚本程序</p></li></ul> <p>touch test.sh</p> <p>i/a</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">'123 Hello world'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果包含字母 符号，需要引号包括起来，纯数字不限</p> <p>ll test.sh</p> <p>chmod +x test.sh</p> <p>ll test.sh</p> <p>运行一定要写成./test.sh</p> <p>使用root账号创建并执行test2.sh，实现创建一个shelltest用户，并在其家目录中新建文件try.html</p> <p>touch test2.sh</p> <p>vim test2.sh</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token function">useradd</span> shelltest
<span class="token function">touch</span> /home/shelltest/try.html

<span class="token function">chmod</span> +x test2.sh
/bin/bash test2.sh  // 脚本的另一种执行方式
<span class="token function">ls</span> /home/shelltest/
<span class="token function">cat</span> /etc/passwd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="shell进阶"><a href="#shell进阶" class="header-anchor">#</a> shell进阶</h3> <h4 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h4> <p>在一个脚本周期内，其值可以发生改变的量</p> <p>定义 class_name=&quot;yunwei&quot;</p> <p>使用 echo $class_name  使用时在变量前加 $ 符号</p> <p>数字 字母 下划线</p> <p>首字母不能有空格；等号左右不能有空格；首字母不能用数字；不能用符号；</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">cont</span><span class="token operator">=</span><span class="token string">&quot;helloworld&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$cont</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>chmod -x 文件.sh</p> <p>./文件.sh</p> <p>单双引号 双引号能够识别变量，能够转义（、@） 单引号只会原样输出，不能转义</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">dt</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>date+<span class="token string">'%F %T'</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$dt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>反引号的使用，脚本需要执行指令然后执行结果赋值给变量需要使用反引号</p> <p>只读变量</p> <p>readonly 变量名</p> <p>定义只读变量a，重新复制</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token builtin class-name">readonly</span> a
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$a</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>接收用户输入</p> <p>read -p 提示信息 变量名</p> <p>编写一个脚本，要求执行之后提示输入一个路径，创建一个文件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">'请输入需要创建的文件路径'</span> filepath
<span class="token function">touch</span> <span class="token variable">$filepath</span>
<span class="token builtin class-name">echo</span> <span class="token string">'文件创建成功'</span>
<span class="token function">ls</span> <span class="token parameter variable">-l</span> <span class="token variable">$filepath</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>删除变量</p> <p>unset 变量名</p> <p>定义变量b=20 输出，删除，再次输出</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$b</span>
<span class="token builtin class-name">unset</span> b
<span class="token builtin class-name">echo</span> <span class="token variable">$b</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="条件判断语句"><a href="#条件判断语句" class="header-anchor">#</a> 条件判断语句</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>语法1
<span class="token keyword">if</span> condition
<span class="token keyword">then</span>
  command1
  command2
<span class="token keyword">fi</span>

单行写法（一般在命令行中） <span class="token keyword">if</span> <span class="token punctuation">[</span>command1<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span> <span class="token builtin class-name">command</span><span class="token punctuation">;</span><span class="token keyword">fi</span>

语法2
<span class="token keyword">if</span> condition
<span class="token keyword">then</span>
  command1
  command2
<span class="token keyword">else</span>
  <span class="token builtin class-name">command</span>
<span class="token keyword">fi</span>

语法3
<span class="token keyword">if</span> condition1
<span class="token keyword">then</span>
  command1
<span class="token keyword">elif</span> condition2
<span class="token keyword">then</span>
  command2
<span class="token keyword">else</span>
  <span class="token builtin class-name">command</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="运算符"><a href="#运算符" class="header-anchor">#</a> 运算符</h4> <p>在shell中 运算符和其他编程脚本语言一致 常见的有算数运算符 关系运算符 逻辑运算符 字符串运算符 文件测试运算符</p> <h5 id="算数运算符"><a href="#算数运算符" class="header-anchor">#</a> 算数运算符 + - * / % = == !=</h5> <p>awk expr 表达式计算工具</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token number">2</span> + <span class="token number">2</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;两数之和为：<span class="token variable">$val</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>表达式和运算符之间要有空格，2+2 是不对的，必须写成 2 + 2，这与熟悉的编程语言不一样</p> <p>完整的表达式要被``包住</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token builtin class-name">echo</span> <span class="token string">''</span>
<span class="token builtin class-name">echo</span> <span class="token string">'a + b = '</span> <span class="token function">expr</span> <span class="token variable">$a</span> + <span class="token variable">$b</span>
<span class="token builtin class-name">echo</span> <span class="token string">'a + b = '</span> <span class="token function">expr</span> <span class="token variable">$a</span> - <span class="token variable">$b</span>
<span class="token builtin class-name">echo</span> <span class="token string">'a + b = '</span> <span class="token function">expr</span> <span class="token variable">$a</span> <span class="token punctuation">\</span>* <span class="token variable">$b</span>
<span class="token builtin class-name">echo</span> <span class="token string">'a + b = '</span> <span class="token function">expr</span> <span class="token variable">$a</span> / <span class="token variable">$b</span>
<span class="token builtin class-name">echo</span> <span class="token string">'a + b = '</span> <span class="token function">expr</span> <span class="token variable">$a</span> % <span class="token variable">$b</span>
<span class="token builtin class-name">echo</span> <span class="token string">''</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'a等于b'</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'a不等于b'</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'a不等于b'</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'a等于b'</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>尝试shell制作一个简易计算器</p> <h5 id="关系运算符"><a href="#关系运算符" class="header-anchor">#</a> 关系运算符</h5> <p>只支持数字，不支持字符串，除非字符串是数字</p> <ul><li>-eq 检测两个数是否相等 相等true [ $a - -eq $b ]</li> <li>-ne 检测两个数是否不等 不相等true</li> <li>-gt 检测左边数是否大于右边</li> <li>-lt 检测左边数是否小于右边</li> <li>-ge 检测左边数是否大于等于右边</li> <li>-le 检测左边数是否小于等于右边</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token builtin class-name">echo</span> <span class="token string">''</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-eq</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'a=b'</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'a!=b'</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>判断当前用户是否存在</p> <h5 id="逻辑运算符"><a href="#逻辑运算符" class="header-anchor">#</a> 逻辑运算符</h5> <p>常用的布尔值</p> <ul><li>! 非运算 表达式为true 则返回false 否则返回true [ !false ] true</li> <li>-o 或（或者or）运算 有一个表达式为true 返回true [ $a -lt 20 -o $b -gt 100 ]</li> <li>-a 与（并且all）运算 两个表达式为true 才返回true [ $a -lt 20 -a $b -gt 100 ]</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token builtin class-name">echo</span> <span class="token string">''</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span>false <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'真'</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'假'</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h5 id="字符串运算符"><a href="#字符串运算符" class="header-anchor">#</a> 字符串运算符</h5> <table><thead><tr><th style="text-align:left;"></th> <th style="text-align:left;"></th> <th style="text-align:left;"></th></tr></thead> <tbody><tr><td style="text-align:left;">=</td> <td style="text-align:left;"></td> <td style="text-align:left;">[ $a = $b ]</td></tr> <tr><td style="text-align:left;">!=</td> <td style="text-align:left;"></td> <td style="text-align:left;">[ $a != $b ]</td></tr> <tr><td style="text-align:left;">-z</td> <td style="text-align:left;">检测字符串长度是否为0 为0 true</td> <td style="text-align:left;">[ -z $a ]</td></tr> <tr><td style="text-align:left;">-n</td> <td style="text-align:left;">检测字符串长度是否为0 不为0 true</td> <td style="text-align:left;">[ -n $a ]</td></tr> <tr><td style="text-align:left;">str</td> <td style="text-align:left;">检测字符串是否为空，不为空返回true</td> <td style="text-align:left;">[ $a ] true</td></tr></tbody></table> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token string">'asdf'</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token string">'qwer'</span>
<span class="token builtin class-name">echo</span> <span class="token string">''</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'相等'</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'不相等'</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h5 id="文件测试运算符"><a href="#文件测试运算符" class="header-anchor">#</a> 文件测试运算符</h5> <table><thead><tr><th style="text-align:left;"></th> <th style="text-align:left;"></th> <th style="text-align:left;"></th></tr></thead> <tbody><tr><td style="text-align:left;">-b</td> <td style="text-align:left;">file 检测文件是否是块设备文件</td> <td style="text-align:left;">[ -b $file ]</td></tr> <tr><td style="text-align:left;">-c</td> <td style="text-align:left;">file 检测文件是否是字符设备文件</td> <td style="text-align:left;">[ -c $file ]</td></tr> <tr><td style="text-align:left;">-d</td> <td style="text-align:left;">file 检测文件是否是目录</td> <td style="text-align:left;">[ -d $file ]</td></tr> <tr><td style="text-align:left;">-f</td> <td style="text-align:left;">file 检测文件是否是普通文件 既不是目录也不是设备文件</td> <td style="text-align:left;">[ -f $file ]</td></tr> <tr><td style="text-align:left;">-r</td> <td style="text-align:left;">是否可读</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">-w</td> <td style="text-align:left;">是否可写</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">-x</td> <td style="text-align:left;">是否可执行</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">-s</td> <td style="text-align:left;">检测文件是否为空（文件大小是否大于0） 不为空返回true</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">-e</td> <td style="text-align:left;">检测文件或者目录是否存在 如果是 返回 true</td> <td style="text-align:left;"></td></tr></tbody></table> <p>等等...</p> <p>测试上述指令 测试文件 文件夹</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">filepath</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">dirpath</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-d</span> filepath <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'是目录'</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'不是目录'</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>权限的判断 如果只有一个部分符合，则认为是有权限</p> <p>创建文件，使用 -e 判断，如果存在不创建，不存在才创建</p> <h4 id="shell脚本附带选项"><a href="#shell脚本附带选项" class="header-anchor">#</a> shell脚本附带选项</h4> <p>问题描述 在Linux shell中如何处理tail -n 10 access.log这样的命令行选项</p> <p>传递</p> <p>./test.sh a b c</p> <p>用$1表示a,$2表示b，以此类推</p> <p>创建自定义指令 user ，可以直接执行，要求该指令具备一下语法和功能</p> <ul><li>user -add 用户名</li> <li>user -del 用户名</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$1</span> <span class="token operator">=</span> <span class="token string">'-add'</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token function">useradd</span> <span class="token variable">$2</span>
<span class="token keyword">else</span>
  <span class="token function">userdel</span> <span class="token parameter variable">-r</span> <span class="token variable">$2</span>
<span class="token keyword">fi</span>

<span class="token function">ls</span> /home
<span class="token function">cat</span> /etc/passwd

<span class="token function">vim</span> ~/.bashrc
增加
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">user</span><span class="token operator">=</span><span class="token string">'/root/test.sh'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="数据库"><a href="#数据库" class="header-anchor">#</a> 数据库</h2> <p>客户端 web服务器 数据库服务器</p> <p>mysql 关系型数据库管理系统 2008年被sun公司收购</p> <p>其他数据库 oracle、MS sql server、access、postgresql、DB2、Mariadb(完全兼容mysql)</p> <h3 id="linux软件安装方式"><a href="#linux软件安装方式" class="header-anchor">#</a> Linux软件安装方式</h3> <p>源码包</p> <ul><li>优点 开源，可以修改源码；编译安装，适合自己系统，稳定高效</li> <li>缺点 安装步骤多，容易出错；编译时间过长</li></ul> <p>解包</p> <p>常用语法</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> *.tar.gz
<span class="token function">tar</span> <span class="token parameter variable">-jxvf</span> *.tar.bz2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>选项含义</p> <ul><li>-z --gzip --ungzip  通过gzip指令处理文件</li> <li>-x --extract --get  从文件中还原文件</li> <li>-v 显示操作过程</li> <li>-f --file 指定一个文件</li></ul> <p>上传文件，解压</p> <p>/usr/local/src</p> <p>tar -zxvf ncurse.tar.gz</p> <p>切换到源码文件夹，执行后续操作</p> <p>配置（config/configure/bootstrap）——编译（make/bootstrapd）——安装(make install/bootstrapd install)</p> <p>配置指定软件的安装目录，需要的依赖在哪里；配置文件路径；通用数据存储的问题</p> <p>指定安装路径  --prex</p> <p>需要依赖的路径 --with-PACKAGE 名=包所在的路径</p> <p>不需要的依赖 --without-PACKAGE 名</p> <p>./configure --prefix=/usr/local/ncurses</p> <p>make &amp;&amp; make install</p> <p>二进制包</p> <ul><li>优点 包管理系统简单，只需要几个命令就可以实现包安装升级，查询和卸载</li> <li>缺点 经过编译，不再可以看到源代码</li></ul> <p>rpm相关指令</p> <table><thead><tr><th style="text-align:left;"></th> <th style="text-align:left;"></th></tr></thead> <tbody><tr><td style="text-align:left;">rpm -qa</td> <td style="text-align:left;">grep</td></tr> <tr><td style="text-align:left;">rpm -e</td> <td style="text-align:left;">关键词 --nodeps</td></tr> <tr><td style="text-align:left;">rpm</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">rpm -ivh</td> <td style="text-align:left;">完整名称</td></tr> <tr><td style="text-align:left;">rpm -Uvh</td> <td style="text-align:left;">完整名称</td></tr> <tr><td style="text-align:left;">rpm -qf</td> <td style="text-align:left;">文件路径  查询指定文件属于哪个包</td></tr></tbody></table> <p>使用二进制包安装 lynx  一款纯命令行的浏览器</p> <p>lsblk</p> <p>mkdir /mnt/dvd</p> <p>mount /dev/sr0 /mnt/dvd</p> <p>rpm -ivh 完整名称</p> <p>lynx --dump &lt;www.baidu.com&gt;</p> <p>yum 等傻瓜式安装</p> <ul><li>优点 安装简单、快捷</li> <li>缺点 完成丧失了自定义性</li></ul> <p>注意 如果不更改软件来源的情况下，是需要联网才能使用yum</p> <p>常用的yum指令</p> <table><thead><tr><th style="text-align:left;"></th> <th style="text-align:left;"></th></tr></thead> <tbody><tr><td style="text-align:left;">yum list</td> <td style="text-align:left;">列出已经安装的和可以安装的软件</td></tr> <tr><td style="text-align:left;">yum search</td> <td style="text-align:left;">名 搜索指定的关键词的包</td></tr> <tr><td style="text-align:left;">yum [-y] install</td> <td style="text-align:left;">包名 安装指定的包 -y表示允许不再确认</td></tr> <tr><td style="text-align:left;">yum [-y] update [包名]</td> <td style="text-align:left;">更新指定的包 不指定包则更新全部软件</td></tr> <tr><td style="text-align:left;">yum [-y] remove 包名</td> <td style="text-align:left;">卸载指定的包</td></tr></tbody></table> <p>示例 使用yum指令卸载火狐浏览器</p> <p>yum install firefox</p> <h3 id="安装-mysql"><a href="#安装-mysql" class="header-anchor">#</a> 安装 MYSQL</h3> <div class="language-text line-numbers-mode"><pre class="language-text"><code>yum install mysql-server
mysql 初始化
mysql_se
service mysqld start
mysql_secure_installation (which mysql_secure_installation)
netstat -tnlp

service mysqld start/stop/restart

mysql -uroot -p
exit 退出

默认目录和文件位置
数据库存储目录 /var/lib/mysql
配置文件 /etc/my.cnf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="mysql的基本操作"><a href="#mysql的基本操作" class="header-anchor">#</a> mysql的基本操作</h2> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>数据库 数据表 行 列
show databases;  显示
create database 库名 创建
drop database 库名 删除
use 库名 切换数据库

show tables
create table 表名称(列表名称1 数据类型 [not null auto_increment],列表名称2 数据类型, primary key(主键));

常见数据类型 int整数 char定长字符 varchar不定长字符
主键就是序号所在列，不能重复

desc 表名; 描述一个数据表，查看表结构
drop table [if exists] 表名;  删除表如果存在的话
use 库名; 使用库
示例 使用上述语法
查看所有的数据表 show tables;
创建数据表 test 要求字段如下： id字段 11位整型 不为空 自增 主键；username字段 varchar类型 20长度；password字段 char类型 32长度
create table test(
  id int(11) not null auto_increment,
  username varchar(20),
  password char(32),
  primary key(id)
);
查看表结构 desc test;
删除数据表 drop table if exist test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="记录-字段操作"><a href="#记录-字段操作" class="header-anchor">#</a> 记录/字段操作</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>增加
insert into 表名称 values(值1，值2，....);
insert into 表名称 (列1，列2，....) values(值1，值2，....);
示例
insert into test (username,password) values ('zhangsan','123456');
列名和值名要一一对应
查询
select 列表1,列表2 from 表名称 where 条件
select * from 表名称 where 条件

更新
update 表名称 set 列名1=值1，列名2=值2... where 列名称=某值
update test set password='123' where id &gt;= 2
在执行影响行数sql操作时一定要注意条件
删除
delete from 表名称 where 列名=值
delete from test where id=2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="备份与还原"><a href="#备份与还原" class="header-anchor">#</a> 备份与还原</h2> <h3 id="备份"><a href="#备份" class="header-anchor">#</a> 备份</h3> <ul><li>全量备份 数据+结构 mysqldump -uroot -p123456 -A &gt; 备份文件路径</li> <li>指定库备份 数据+结构 mysqldump -uroot -p123456 库名 &gt; 备份文件路径</li> <li>多个库备份 数据+结构 mysqldump -uroot -p123456 --databases db1 db2 &gt; 备份文件路径</li> <li>多个库备份 数据+结构 mysqldump -uroot -p123456 -B db1 db2 &gt; 备份文件路径</li></ul> <p>每分钟自动备份1次 test 数据库</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>*/1 * * * * mysqldump <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p123456</span> <span class="token parameter variable">-A</span> <span class="token operator">&gt;</span> /root/sql_202304261042.sql

<span class="token comment">#!/bin/bash</span>
filename <span class="token operator">=</span> <span class="token string">&quot;test_&quot;</span>+date+<span class="token string">'%Y%m%d%H%M%S'</span>+<span class="token string">&quot;.sql&quot;</span>
mysqldump <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p123456</span> <span class="token parameter variable">-A</span> <span class="token operator">&gt;</span> /root/<span class="token variable">$filename</span>
<span class="token comment"># 计划任务</span>
<span class="token function">crontab</span> <span class="token parameter variable">-e</span>

<span class="token comment"># 分 时 日 月 周</span>
* * * * * /root/文件名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="还原"><a href="#还原" class="header-anchor">#</a> 还原</h3> <p>mysql命令行 source 方法；系统命令行方法</p> <h4 id="还原全部数据库"><a href="#还原全部数据库" class="header-anchor">#</a> 还原全部数据库</h4> <p>mysql命令行 mysql&gt;source 备份文件路径</p> <p>系统命令行 mysql -uroot -p123456 &lt; 备份文件路径</p> <h4 id="还原单个数据库-需指定数据库"><a href="#还原单个数据库-需指定数据库" class="header-anchor">#</a> 还原单个数据库，需指定数据库</h4> <p>mysql&gt; use 库名</p> <p>mysql&gt; source 备份文件路径</p> <p>mysql -uroot -p123456 库名 &lt; 备份文件路径</p> <h4 id="还原单个库多个表"><a href="#还原单个库多个表" class="header-anchor">#</a> 还原单个库多个表</h4> <p>mysql&gt; use 库名</p> <p>mysql&gt; source 备份文件路径</p> <p>mysql -uroot -p123456 库名 &lt; 备份文件路径</p> <h4 id="还原多个数据库"><a href="#还原多个数据库" class="header-anchor">#</a> 还原多个数据库</h4> <p>mysql命令行 mysql&gt;source 备份文件路径</p> <p>系统命令行 mysql -uroot -p123456 &lt; 备份文件路径</p> <p>mysql&gt;  set names utf8;</p> <p>三码一致：数据库 连接 终端</p> <h2 id="扩展"><a href="#扩展" class="header-anchor">#</a> 扩展</h2> <p>mysql 远程管理工具</p> <ul><li>B/S架构 C/S架构</li> <li>B 浏览器 百度搜索应用属于BS架构软件</li> <li>C 客户端 QQ等应用程序属于CS架构软件</li></ul> <p>例如</p> <ul><li>B/S端 phpmyadmin</li> <li>C/S端 navicat、mysql workbench</li></ul> <div class="language-text line-numbers-mode"><pre class="language-text"><code>如果报错：is not allowed to connect to this MySQL server
进入数据库 选择mysql数据库
执行sql语句 select host,user from user;
将其中一个值改为 % 表示可以在任意地方登陆
update user set host = '%' where host='asdf'
刷新权限 mysql&gt;flush privileges
F6
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="nginx"><a href="#nginx" class="header-anchor">#</a> nginx</h2> <p>同Apache</p> <p>安装nginx</p> <h3 id="wget-地址"><a href="#wget-地址" class="header-anchor">#</a> wget 地址</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># /user/local/src目录下执行</span>
<span class="token function">wget</span> https://asdfasdfadsf/asdf/nginx.tar.gz

<span class="token comment"># 解压</span>
<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> 文件

报错没有 PCRE 库
yum <span class="token function">install</span> pcre-devel
./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/nginx --with-pcre

报错缺少 zlib
yum <span class="token function">install</span> zlib-devel
./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/nginx --with-pcre --with-zlib<span class="token operator">=</span>/usr/local/src/

<span class="token comment"># 开始安装</span>
<span class="token function">make</span> <span class="token function">install</span>
yum list installed <span class="token operator">|</span> <span class="token function">grep</span> cc
 
<span class="token comment"># 运行</span>
先停止apache，再运行nginx
usr/local/nginx/sbin/nginx 启动命令
usr/local/nginx/sbin/nginx <span class="token parameter variable">-s</span> reload 重载
<span class="token comment"># 卸载</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> 软件安装目录
卸载软件之前必须先停止
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="lamp"><a href="#lamp" class="header-anchor">#</a> LAMP</h2> <ul><li>LAMP： Linux apache mysql PHP</li> <li>LNMP： Linux nginx mysql PHP-fpm</li> <li>LNMPA： Linux nginx mysql PHP apache</li></ul> <p>apache 世界使用第一 跨平台 安全性</p> <h2 id="阿里云安装环境"><a href="#阿里云安装环境" class="header-anchor">#</a> 阿里云安装环境</h2> <p>yum install php [安装好PHP会顺带着安装apache]</p> <p>service httpd start [会有警告，无法确定FQDN，处理需要修改 apache 配置文件 /etc/httpd/conf/httpd.conf]</p> <p>find / -name httpd.conf</p> <p>文件搜 ?serverName</p> <p>测试访问，在地址栏中输入访问 IP</p> <p>测试PHP是否可以运行 默认apache站点目录 /var/www/html</p> <p>创建index.php文件</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token function">phpinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span>
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code>yum install mysql-server
<span class="token comment">&lt;!-- yum install mysql*   下载mysql全部 --&gt;</span>
<span class="token comment">&lt;!-- 初始化 --&gt;</span>
service mysqld start
mysql_secure_installation
<span class="token comment">&lt;!-- 测试命令行登陆 --&gt;</span>
mysql -uroot -p123456
use mysql
select user,host from user
update user set host = '%' where host = '127.0.0.1';
<span class="token comment">&lt;!-- 重启mysql或者刷新权限 flush privileges --&gt;</span>
可以使用 navicat 连接
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="安装-discuz-论坛"><a href="#安装-discuz-论坛" class="header-anchor">#</a> 安装 discuz 论坛</h2> <p>官网下载之后上传文件，打开路径可视化安装，遇到权限问题的话，</p> <ul><li>赋予权限</li></ul> <p>chmod -R +w /var/www/html</p> <p>yum install php-mysqli</p> <ul><li>重启apache</li></ul> <p>service httpd restart</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/JackWsjls/wsjls-blog/edit/master/docs/技术/01.运维/01.运维基础.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/06/27, 15:48:10</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/wsjls/weblog/technology/php/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">《PHP》学习</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/wsjls/weblog/technology/php/">《PHP》学习</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/wsjls/weblog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/wsjls/weblog/pages/e808fba1fa8fbab2/"><div>
            PHP基础
            <!----></div></a> <span class="date">06-27</span></dt></dl> <dl><dd></dd> <dt><a href="/wsjls/weblog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:418383219@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/JackWsjls" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
    Copyright © 2021-2023
    <span>Wsjls | <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=61019702000312" target="_blank">陕公网安备 61019702000312号</a> <a href="https://beian.miit.gov.cn" target="_blank">陕ICP备2021013147号</a></span> | 
   
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/wsjls/weblog/assets/js/app.102f5f84.js" defer></script><script src="/wsjls/weblog/assets/js/2.ae390b48.js" defer></script><script src="/wsjls/weblog/assets/js/11.60ef0eb9.js" defer></script>
  </body>
</html>
